# hsbTraufschalung.mcr

## Overview
This script generates a row of decorative eaves boards (often called "Exposed Rafter Eaves" or soffit boards) along a selected roof slope. It handles both simple rectangular boards and custom profile shapes, automatically trimming them to fit hips, valleys, and roof boundaries.

## Usage Environment
| Space | Supported | Notes |
|-------|-----------|-------|
| Model Space | Yes | This script creates 3D beams and bodies. |
| Paper Space | No | Not designed for 2D drawing generation. |
| Shop Drawing | No | Not a shop drawing script. |

## Prerequisites
- **Required Entities:** At least one `RoofPlane` (ERoofPlane).
- **Optional Entities:**
  - `Rafters` (GenBeam): Used to determine precise trimming at hips and valleys.
  - `Polylines` (EntPLine): Can be used to define the boundary area for the boards.
- **Required Settings:** `mapIO_LayerAssignment` (for layer management).

## Usage Steps

### Step 1: Launch Script
Command: `TSLINSERT` â†’ Select `hsbTraufschalung.mcr` from the list.

### Step 2: Select Roofplane
```
Command Line: |Select Roofplane|
Action: Click on the roof plane (slope) where you want to generate the eaves boards.
```

### Step 3: Select Pline(s) (Optional)
```
Command Line: |Select pline(s)|
Action: 
- If you have a closed polyline defining a specific area (e.g., a gable end or dormer outline), select it now.
- If you want to cover the whole eave based on a point, press ENTER to skip this step.
```

### Step 4: Define Distribution End
```
Command Line: |Point near end of distribution|
Action: Click a point on the roof plane near the fascia or gutter line. This defines where the row of boards stops.
```

## Properties Panel Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| Extrusion profile | dropdown | (Empty) | Select a catalog profile for the board shape. If left empty, the script uses a rectangular cross-section based on Width and Height. |
| visible Width | Number | 121 | The width of the board visible from below (spacing). Changing this regenerates the entire row. |
| Height | Number | 21 | The thickness of the board. |
| Additional Width | Number | 0 | Extra width added to the board (typically for overlaps). |
| Material | String | (Empty) | The material code for the boards (e.g., C24). |
| Grade | String | (Empty) | The timber grade. |
| Name | String | Exposed Rafter Eaves | The name identifier for the element. |
| Label | String | (Empty) | Short code for marking/labeling. |
| Sublabel | String | (Empty) | Additional classification label. |
| Color | Number | 65 | The CAD display color (AutoCAD Color Index). |
| Dimstyle | dropdown | (Empty) | The dimension style to use. |
| Group, Layername or Zone Character | String | Exposed Rafter Eaves | Determines the layer assignment (e.g., "House\Roof\Rafter" or a Zone Character like "C"). |

## Right-Click Menu Options

| Menu Item | Description |
|-----------|-------------|
| Generate Beams | Deletes all existing boards generated by this script and creates a new distribution based on current properties. |
| Delete Beams | Deletes the generated boards but keeps the script instance in the drawing. |
| Toggle Direct Editing | Enables or disables the grip point used to move the distribution end point. |

## Settings Files
- **Filename**: `mapIO_LayerAssignment`
- **Location**: Company or Install path
- **Purpose**: Maps the script's internal entities to the correct CAD layers based on your project standards.

## Tips
- **Adjusting Spacing:** To change how close the boards are to each other, modify the `visible Width` property in the Properties Palette.
- **Complex Roofs:** The script automatically cuts boards where they meet Hip or Valley rafters. For best results, ensure your Rafter beams (GenBeams) are drawn and intersect the roof plane correctly.
- **Moving the Row:** Use the "Toggle Direct Editing" option to reveal a grip point at the end of the distribution. You can drag this point to shorten or lengthen the row of boards.
- **Using Profiles:** If you select an `Extrusion profile`, the `visible Width` property is still used to calculate the spacing between boards, but the physical shape will match the profile.

## FAQ
- **Q: Why did my boards disappear?**
  A: You might have deleted the reference Roofplane or the script instance. Check that the Roofplane entity still exists in the model. Alternatively, you may have selected "Delete Beams" from the right-click menu; select "Generate Beams" to bring them back.
- **Q: Can I use this for curved roofs?**
  A: This script is designed for planar roof planes. For curved surfaces, the boards will be placed linearly based on the plane's slope.
- **Q: How do I change the board shape after insertion?**
  A: Select the script instance, open the Properties Palette, and change the `Extrusion profile` dropdown. The script will automatically regenerate the geometry.