```json
{
  "markdown": "# hsbT-Marking.mcr\n\n## Overview\nThis script automatically adds markings (text and leader lines) to timber beams at T-connections. It labels the receiving (female) beam with information derived from the intersecting (male) beam, such as its name or length, to assist with assembly and fabrication.\n\n## Usage Environment\n| Space | Supported | Notes |\n|-------|-----------|-------|\n| Model Space | Yes | This script operates on 3D beam geometry. |\n| Paper Space | No | Not designed for layout views or shop drawings. |\n| Shop Drawing | No | Does not interact with dimensioning or detailing views. |\n\n## Prerequisites\n- **Required Entities**: At least two `GenBeam` objects intersecting in a T-connection.\n- **Minimum Beams**: 1 (Female beam selected for insertion), though a second beam (Male) must exist to generate text.\n- **Required Settings**: Valid Painter Definitions (or legacy HSB_G-FilterGenBeams) must exist in the catalog to define which beams to target and what text to display.\n\n## Usage Steps\n\n### Step 1: Launch Script\nCommand: `TSLINSERT`\n\n### Step 2: Select Script File\n```\nDialog: Select TSL File\nAction: Browse to and select 'hsbT-Marking.mcr'.\n```\n\n### Step 3: Select Target Beam\n```\nCommand Line: Select Element:\nAction: Click on the receiving (female) beam where you want the marking to appear.\n```\n\n### Step 4: Configure Properties (Optional)\nIf the default settings do not produce the desired marking:\n1. Select the beam with the script attached.\n2. Open the **Properties Palette** (`PROPS`).\n3. Modify the **Painter Definition Male** and **Painter Definition Female** fields to select specific filters and text formats.\n\n## Properties Panel Parameters\n\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Painter Definition Male | String | Empty | Defines the configuration for the intersecting (male) beam. Determines which beam is selected and what data (e.g., Name, Length) is extracted for the text label. |\n| Painter Definition Female | String | Empty | Defines the configuration for the receiving (female) beam. Ensures the marking is applied to the correct element based on specific filters. |\n\n## Right-Click Menu Options\n\n| Menu Item | Description |\n|-----------|-------------|\n| Migrate Filters -> Painters | Converts legacy catalog entries (HSB_G-FilterGenBeams) into the new Painter Definition format. This is useful if you are updating an old project or database. |\n| [Specific Filter Name] | If legacy filters are detected, specific filter names appear here to allow individual migration to the new format. |\n\n## Settings Files\n\n- **Catalog Entries**: `PainterDefinition`, `HSB_G-FilterGenBeams` (Legacy)\n- **Location**: hsbCAD Catalog Database\n- **Purpose**: Stores the logic for beam selection (Filters) and text formatting (Format strings) used by the script.\n\n## Tips\n- **Placement Issues**: If the text mark disappears, check if the intersection point falls outside the physical profile of the beam.\n- **Text Formatting**: Ensure the \"Format\" string within your Painter Definition includes valid placeholders (e.g., `%Name%`, `%Length%`); otherwise, no text will be generated.\n- **Upgrading**: If migrating from an older version of hsbCAD, use the Right-Click \"Migrate Filters\" option to update your beam selection logic without re-configuring everything manually.\n\n## FAQ\n\n- **Q: I see the error \"could not find any valid marking location\".**\n  **A:** This usually means the calculated position for the mark is outside the boundary of the beam's face. Try adjusting your beam geometry or check if the \"Alignment\" settings in your Painter Definition are suitable for the connection angle.\n\n- **Q: The script attached, but no text is showing.**\n  **A:** Check the **Painter Definition Male** property. If the \"Format\" field inside that definition is empty, or if the filter cannot find a matching intersecting beam, the script will generate the geometry but leave the text blank.\n\n- **Q: How do I change what information is displayed (e.g., show Position instead of Name)?**\n  **A:** You must edit the Painter Definition associated with the \"Male\" property in your catalog. Change the \"Format\" string to the desired variable (e.g., `%Pos%`)."
}
```