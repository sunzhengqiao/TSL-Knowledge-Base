# hsb_CreateMultipleStuds

## Overview
Replaces single structural studs (or jack studs) in a wall with a specified number of multiple studs to handle higher loads. The script automatically adjusts surrounding blocking and avoids collisions with existing king studs or supporting beams.

## Usage Environment
| Space | Supported | Notes |
|-------|-----------|-------|
| Model Space | Yes | Script only functions in the 3D model environment. |
| Paper Space | No | Not applicable for 2D layouts. |
| Shop Drawing | No | Not applicable for drawings. |

## Prerequisites
- **Required Entities**: A Wall Element (`ElementWall`) already inserted in the model.
- **Minimum Beam Count**: The wall must contain at least one existing stud, jack stud (SFJackOverOpening), or cripple stud (SFJackUnderOpening).
- **Required Settings**: None.

## Usage Steps

### Step 1: Launch Script
Command: `TSLINSERT` (or `TSL` depending on system configuration)
Action: Browse to and select `hsb_CreateMultipleStuds.mcr`.

### Step 2: Configure Parameters (Optional)
Action: Before selecting the wall, you can adjust the settings in the **Properties Palette** (OPM) if it opens automatically. If not, proceed to selection and change properties later.

### Step 3: Select Wall Elements
```
Command Line: Select a set of elements
Action: Click on the Wall Element(s) you wish to modify. Press Enter to confirm selection.
```
*Note: The script will automatically find valid studs (Stud, Jack Studs) within the selected wall and replace them.*

## Properties Panel Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| Number of studs | Number | 2 | The quantity of studs to generate at each location (Range: 2-10). |
| Color of studs | Number | 32 | The AutoCAD color index for the new studs. Enter `0` to use the original beam's color. |
| Create Beams as Modules | Dropdown | No | Determines if the group of new studs is treated as a single manufacturing module ("Yes") or individual members ("No"). |

## Right-Click Menu Options

| Menu Item | Description |
|-----------|-------------|
| Refresh/Recalculate | Re-runs the script logic to update studs based on current property values or wall geometry changes. |

## Settings Files
No external settings files are required for this script.

## Tips
- **Collision Handling**: If you request a high number of studs (e.g., 4 or 5) and there is a King Stud or supporting beam in the way, the script will automatically skip any new studs that would collide, rather than creating an error.
- **Blocking Management**: You do not need to manually fix blocking after running this script. It automatically calculates whether to stretch existing blocking around the new studs or erase it if the studs fully occupy the space.
- **Visual Verification**: Change the "Color of studs" to a bright color (e.g., Red) initially to easily verify which studs were generated by the script.

## FAQ
- **Q: Why didn't it create the exact number of studs I requested?**
  A: The script includes collision detection. If the calculated position of a stud overlaps with a "No Touch" element (like a King Stud or Supporting Beam), that specific stud is skipped to prevent geometry errors.

- **Q: Can I use this on any beam in the wall?**
  A: No, the script specifically targets beams classified as "Stud", "SFJackOverOpening" (Jack Stud), or "SFJackUnderOpening" (Cripple Stud). Other beam types are ignored.

- **Q: How do I undo the changes?**
  A: You can use the standard AutoCAD `UNDO` command. Alternatively, erasing the TSL instance (the script symbol at the wall origin) will remove the generated studs. Note that erasing the instance usually removes the generated elements associated with it.