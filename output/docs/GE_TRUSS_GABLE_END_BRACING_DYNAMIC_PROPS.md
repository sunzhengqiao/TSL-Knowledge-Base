# GE_TRUSS_GABLE_END_BRACING_DYNAMIC_PROPS.mcr

## Overview
This script automatically applies vertical web bracing to gable end trusses. It selects the appropriate bracing size, material, and connection type based on the length of the truss webs and a pre-configured settings file.

## Usage Environment
| Space | Supported | Notes |
|-------|-----------|-------|
| Model Space | Yes | This script must be run in the 3D model. |
| Paper Space | No | Cannot be used in layout views. |
| Shop Drawing | No | This is a modeling tool, not a detailing tool. |

## Prerequisites
- **Required entities**: A valid Truss Entity already drawn in the model.
- **Minimum beam count**: The truss must have vertical web members.
- **Required settings files**: 
  - `GE_TRUSS_GABLE_END_BRACING_CUSTOM_PROPS` (Must exist in Company or Install path).

## Usage Steps

### Step 1: Launch Script
Command: `TSLINSERT` â†’ Select `GE_TRUSS_GABLE_END_BRACING_DYNAMIC_PROPS.mcr`

### Step 2: Select Truss
```
Command Line: Select truss
Action: Click on the gable end truss entity you wish to brace.
```

### Step 3: Define Orientation
```
Command Line: Pick front side of truss
Action: Click a point on the front face of the truss. This determines which side is "Front" for L-type or T-type brace placement.
```

### Step 4: Configure Settings (Dialog)
```
Action: A settings dialog will appear (referencing TSL_Edit_Gable_End_Settings.dll).
Review the mapping between web lengths and brace configurations. Click OK to proceed.
```
*Note: This step loads the inventory and bracing presets required for generation.*

### Step 5: Generation
```
Action: The script automatically scans the vertical webs, calculates lengths, looks up the settings, and generates the brace beams. The script instance will erase itself upon completion.
```

## Properties Panel Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| N/A | N/A | N/A | This script does not expose parameters in the Properties Palette. All configuration is handled via the external settings file `GE_TRUSS_GABLE_END_BRACING_CUSTOM_PROPS`. |

## Right-Click Menu Options

| Menu Item | Description |
|-----------|-------------|
| None | No custom context menu options are available for this script. |

## Settings Files
- **Filename**: `GE_TRUSS_GABLE_END_BRACING_CUSTOM_PROPS`
- **Location**: Searches in `_kPathHsbCompany` first, then `_kPathHsbInstall`.
- **Purpose**: This file contains the logic for mapping vertical web lengths to specific bracing configurations. It defines:
  - **Connection Type**: Single L, Single T, Double L, or Double T.
  - **Dimensions**: Width and Height of the brace lumber.
  - **Offsets**: Top and Bottom gaps relative to the web.
  - **Material**: Species and Grade codes.

## Tips
- **Update Workflow**: This script erases itself after running. If you modify the truss geometry (e.g., change pitch or span), you must manually re-insert the script to update the braces.
- **Skipped Webs**: If a specific vertical web does not get a brace, check the settings file to ensure the web's length falls within a defined range.
- **Orientation**: The "Front" side selection is critical. "L-type" braces flush to the face, while "T-type" braces center on the back. Ensure your point click is on the correct face relative to your desired bracing direction.

## FAQ
- **Q: Why did the script generate different size braces on different webs?**
  - A: The script is designed to be "Dynamic." It checks the length of each individual vertical web and applies the specific size defined in your settings file for that length range.
  
- **Q: Can I edit the brace size via the Properties Palette?**
  - A: No. The generated beams are standard timber beams that can be edited individually, but the script parameters are not exposed in the Properties Palette. To change the global logic, you must edit the XML settings file.

- **Q: I get an error "No valid truss selected". What do I do?**
  - A: Ensure you are selecting a Truss Entity (generated by the Truss Generator) and not just a collection of lines or individual beams.