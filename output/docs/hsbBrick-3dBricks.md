# hsbBrick-3dBricks.mcr

## Overview
Generates the 3D geometric body for individual masonry units (bricks) based on coordinates and dimensions passed from distribution scripts. This script is typically executed automatically by parent scripts to visualize and quantify the 3D volume of bricks within a wall assembly.

## Usage Environment
| Space | Supported | Notes |
|-------|-----------|-------|
| Model Space | Yes | Script creates 3D solid bodies assigned to element groups. |
| Paper Space | No | Not designed for 2D layout or sheet generation. |
| Shop Drawing | No | Not a shop drawing generation script. |

## Prerequisites
- **Required Entities**:
  - An Element (Wall).
  - `hsbBrick-BrickDistributionInterior` or `hsbBrick-BrickDistributionExterior` instance.
  - `hsbBrick-CourseDistribution` instance.
- **Minimum Beam Count**: 0 (This script generates bodies, not beams).
- **Required Settings**: 
  - Must receive "Map data" from parent TSLs containing the `planeProfile`, `width`, and coordinate offsets (`dOffsetX`, `dOffsetY`, `dOffsetZ`).

## Usage Steps

### Step 1: Launch Script
**Command:** `TSLINSERT` â†’ Select `hsbBrick-3dBricks.mcr`

> **Note:** This script is normally generated automatically by the Brick Distribution scripts. Manual insertion is rarely required and will only function if the prerequisite parent scripts are already present on the element.

### Step 2: Select Element
```
Command Line: Select element:
Action: Click on the Wall Element that contains the parent distribution scripts.
```

### Step 3: Completion
If the parent scripts are found, the brick body will be generated. If parent scripts are missing, this script instance will erase itself automatically.

## Properties Panel Parameters

All properties listed below are **Read-Only**. To modify the brick layout, you must edit the properties of the parent `BrickDistribution` or `CourseDistribution` scripts.

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| X | Number | dOffsetX | The horizontal (X-axis) location of the brick relative to the wall element's origin. |
| Y | Number | dOffsetY | The lateral (Y-axis) offset of the brick relative to the wall element's origin (depth/face alignment). |
| Z | Number | dOffsetZ | The vertical (Z-axis) elevation of the brick relative to the wall element's base. |
| BrickType | Dropdown | Regular | Defines the brick type (Regular or Special). |

## Right-Click Menu Options

| Menu Item | Description |
|-----------|-------------|
| None | No custom context menu options are defined for this script. |

## Settings Files
- **Filename**: Standard hsbCAD Catalogs (optional)
- **Location**: Company or Install path
- **Purpose**: If an Execute Key is used during insertion, the script attempts to load default properties from a catalog entry matching the key name.

## Tips
- **Automatic Updates**: Moving or resizing the parent wall element automatically updates the position and orientation of the bricks.
- **Missing Bricks**: If the 3D bricks disappear from your model, check that the `hsbBrick-BrickDistribution...` and `hsbBrick-CourseDistribution` scripts are still present on the element. This script deletes itself if its parents are removed.
- **Read-Only Data**: You cannot manually drag or change the coordinates of individual bricks in the properties palette. Adjust the distribution settings in the parent scripts to change the layout.

## FAQ
- **Q: Why can I not change the Brick Type to "Special"?**
  A: The properties are Read-Only and populated by the parent distribution script. You must configure the logic or map data in the parent script to designate specific bricks as "Special".
  
- **Q: I get an error "more than one ring in brick plane profile". What does this mean?**
  A: The profile shape generated by the parent script is too complex (it has multiple loops/holes). This script requires a single, simple ring profile. Check the input geometry or profile settings in the Brick Distribution script.