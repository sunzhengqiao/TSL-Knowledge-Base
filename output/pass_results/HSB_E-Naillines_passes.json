{
  "filename": "HSB_E-Naillines.mcr",
  "status": "completed",
  "total_tokens": 55609,
  "processing_time": 296.0818679332733,
  "passes": {
    "1": {
      "success": true,
      "data": {},
      "tokens_used": 9137,
      "error": null
    },
    "2": {
      "success": true,
      "data": {
        "usageEnvironment": {
          "primarySpace": "ModelSpace",
          "supportsPaperSpace": false,
          "isShopDrawingScript": false,
          "isMultipageScript": false,
          "detectionEvidence": "Explicit use of `_kModelSpace` in `dbCreate` call; selection of `Element` objects via `PrEntity` during insert; script filename prefix 'HSB_E-' indicates Element script; logic relies on 3D geometry (CoordSys, Vector3d) and `_bOnElementConstructed`."
        },
        "prerequisites": {
          "requiredEntities": [
            "Element",
            "GenBeam",
            "Sheet"
          ],
          "minimumBeams": 0,
          "requiredSpace": "Model Space",
          "requiredSettings": [
            "HSB_G-FilterGenBeams (optional, for beam filtering)"
          ]
        }
      },
      "tokens_used": 6634,
      "error": null
    },
    "3": {
      "success": true,
      "data": {
        "commandLine": {
          "insertionFlow": [
            {
              "step": 1,
              "function": "PrEntity",
              "promptOriginal": "Select a set of elements",
              "condition": "_bOnInsert",
              "required": true
            }
          ],
          "keywordOptions": []
        },
        "dialogs": [
          {
            "type": "ShowDialog",
            "trigger": "Insertion (if no execute key provided)",
            "title": null,
            "dataSource": "Built-in TSL Properties Dialog",
            "features": {
              "searchable": false,
              "multiSelect": false
            }
          }
        ],
        "opmProperties": [
          {
            "index": 1,
            "variable": "sApplyToolingToElementType",
            "type": "PropString",
            "displayName": "|Apply tooling to element type(s)|",
            "defaultValue": "",
            "inputType": "dropdown",
            "options": [
              "|Roof|",
              "|Floor|",
              "|Wall|",
              "|Roof|;|Floor|",
              "|Roof|;|Floor|;|Wall|",
              "|Roof|;|Wall|",
              "|Floor|;|Wall|"
            ],
            "category": "|Selection|",
            "description": null
          },
          {
            "index": 9,
            "variable": "filterDefinitionGenBeams",
            "type": "PropString",
            "displayName": "|Filter definition genbeams|",
            "defaultValue": "",
            "inputType": "dropdown",
            "options": [
              "Dynamic list from 'HSB_G-FilterGenBeams'"
            ],
            "category": "|Filters|",
            "description": "|The filter definition used to filter the beams.|Use| HSB_G-FilterGenBeams |to define the filters|."
          },
          {
            "index": 2,
            "variable": "sFilterBC",
            "type": "PropString",
            "displayName": "Filter beams with beamcode",
            "defaultValue": "",
            "inputType": "text",
            "options": [],
            "category": "|Filters|",
            "description": null
          },
          {
            "index": 6,
            "variable": "sFilterLabel",
            "type": "PropString",
            "displayName": "Filter beams and sheets with label",
            "defaultValue": "",
            "inputType": "text",
            "options": [],
            "category": "|Filters|",
            "description": null
          },
          {
            "index": 4,
            "variable": "sApplyToolingTo",
            "type": "PropString",
            "displayName": "|Apply nailing to|",
            "defaultValue": "Zone 2",
            "inputType": "dropdown",
            "options": [
              "Zone 0",
              "Zone 1",
              "Zone 2",
              "Zone 3",
              "Zone 4",
              "Zone 5",
              "Zone 6",
              "Zone 7",
              "Zone 8",
              "Zone 9",
              "Zone 10"
            ],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 0,
            "variable": "nToolingIndex",
            "type": "PropInt",
            "displayName": "|Toolindex|",
            "defaultValue": "10",
            "inputType": "number",
            "options": [],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 0,
            "variable": "dPerimeterNailSpacing",
            "type": "PropDouble",
            "displayName": "|Perimeter nail spacing|",
            "defaultValue": "100",
            "inputType": "number",
            "options": [],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 1,
            "variable": "dIntermediateNailSpacing",
            "type": "PropDouble",
            "displayName": "|Intermediate nail spacing|",
            "defaultValue": "200",
            "inputType": "number",
            "options": [],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 2,
            "variable": "dMinimumDistanceTConnection",
            "type": "PropDouble",
            "displayName": "|Minimum distance to t-connection|",
            "defaultValue": "10",
            "inputType": "number",
            "options": [],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 3,
            "variable": "dMinLengthOfNailLine",
            "type": "PropDouble",
            "displayName": "|Minimum allowed length of nail line|",
            "defaultValue": "150",
            "inputType": "number",
            "options": [],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 5,
            "variable": "sApplyNailingPerSheet",
            "type": "PropString",
            "displayName": "|Apply nailing per sheet|",
            "defaultValue": "|Yes|",
            "inputType": "dropdown",
            "options": [
              "|Yes|",
              "|No|"
            ],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 4,
            "variable": "dDistEdgeSheetOnSheetJoint",
            "type": "PropDouble",
            "displayName": "|Minimum distance to sheet edge|",
            "defaultValue": "0",
            "inputType": "number",
            "options": [],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 10,
            "variable": "sAllowNaillinesInMinimumOffsetArea",
            "type": "PropString",
            "displayName": "|Apply naillines in area smaller then minimum distance|",
            "defaultValue": "|No|",
            "inputType": "dropdown",
            "options": [
              "|Yes|",
              "|No|"
            ],
            "category": "|Tooling|",
            "description": null
          },
          {
            "index": 11,
            "variable": "sAllowIntermediateNaillines",
            "type": "PropString",
            "displayName": "|Apply intermediate naillines|",
            "defaultValue": "|Yes|",
            "inputType": "dropdown",
            "options": [
              "|Yes|",
              "|No|"
            ],
            "category": "|Tooling|",
            "description": null
          }
        ],
        "contextMenu": [],
        "settingsFiles": [
          {
            "filename": "HSB_G-FilterGenBeams (Catalogs)",
            "searchPaths": [
              "TslInst().getListOfCatalogNames"
            ],
            "purpose": "Provides filter definitions for beam filtering",
            "required": false
          },
          {
            "filename": "HSB_E-Naillines (Catalogs)",
            "searchPaths": [
              "TslInst().getListOfCatalogNames"
            ],
            "purpose": "Provides default property values via Execute Keys",
            "required": false
          }
        ]
      },
      "tokens_used": 8900,
      "error": null
    },
    "4": {
      "success": true,
      "data": {
        "scriptPurpose": {
          "summary": "Automatically generates nailing patterns for timber frame panels (walls, floors, roofs) to attach sheathing/boarding to structural members.",
          "category": "Machining / Production",
          "typicalUseCase": "Used in prefab timber construction to define how OSB, Plywood, or particle boards are fixed to studs/joists/rafters for structural integrity and shop floor assembly."
        },
        "parameters": [
          {
            "name": "sApplyToolingToElementType",
            "technicalDefault": "",
            "businessMeaning": "Selects the type of building elements to process. Allows the user to limit nailing generation to specific construction types like Roofs, Floors, or Walls.",
            "validRange": "Any combination of Roof, Floor, Wall",
            "unit": "N/A",
            "affectsOutput": "Determines if the script runs on the selected element based on its geometric orientation; otherwise, the script self-destructs."
          },
          {
            "name": "filterDefinitionGenBeams",
            "technicalDefault": "",
            "businessMeaning": "Selects a pre-defined filter set (from 'HSB_G-FilterGenBeams') to identify which specific structural beams (e.g., only studs, only joists) should receive nails.",
            "validRange": "List of catalog names",
            "unit": "N/A",
            "affectsOutput": "Filters the underlying structural beams; nail lines are only generated where the beam matches the filter criteria."
          },
          {
            "name": "sFilterBC",
            "technicalDefault": "",
            "businessMeaning": "Filters beams based on their Beam Code (e.g., filtering for only 'Stud' or 'Rafter' codes). Supports wildcards like 'R*'.",
            "validRange": "Text string (beam codes)",
            "unit": "N/A",
            "affectsOutput": "Excludes beams that do not match the code pattern from nailing calculations."
          },
          {
            "name": "sFilterLabel",
            "technicalDefault": "",
            "businessMeaning": "Filters both beams and sheets based on a specific label name.",
            "validRange": "Text string",
            "unit": "N/A",
            "affectsOutput": "Only entities matching this label are considered for the nailing operation."
          },
          {
            "name": "sApplyToolingTo",
            "technicalDefault": "Zone 2",
            "businessMeaning": "Selects the specific building layer (Zone) to nail. Zones typically represent different material layers (e.g., Zone 2 might be external sheathing, Zone 3 internal boarding).",
            "validRange": "Zone 0 through Zone 10",
            "unit": "N/A",
            "affectsOutput": "Targets the nailing calculation to the specific sheet/geometry layer defined by the zone number."
          },
          {
            "name": "nToolingIndex",
            "technicalDefault": "10",
            "businessMeaning": "The ID number referencing the specific nail gun, nail size, or fastener type to be used in the CNC machine or production data.",
            "validRange": "Integer (Machine/Tool dependent)",
            "unit": "Index",
            "affectsOutput": "Sets the tooling attribute in the output data, ensuring the correct fastener is used on the shop floor."
          },
          {
            "name": "dPerimeterNailSpacing",
            "technicalDefault": "100",
            "businessMeaning": "The spacing between nails along the outer edges of the sheets (perimeter). Usually tighter than field nailing for structural shear resistance.",
            "validRange": "50 - 300 mm",
            "unit": "mm",
            "affectsOutput": "Sets the frequency of nails on the boundary of the sheet/element."
          },
          {
            "name": "dIntermediateNailSpacing",
            "technicalDefault": "200",
            "businessMeaning": "The spacing between nails in the interior field area of the sheets.",
            "validRange": "100 - 600 mm",
            "unit": "mm",
            "affectsOutput": "Sets the frequency of nails on structural members covered by the sheet body, away from edges."
          },
          {
            "name": "dMinimumDistanceTConnection",
            "technicalDefault": "10",
            "businessMeaning": "A safety margin ensuring nails are not placed too close to T-connections (where a beam meets another perpendicularly).",
            "validRange": "0 - 50 mm",
            "unit": "mm",
            "affectsOutput": "Nails are trimmed or shifted to maintain this clearance from intersecting beams."
          },
          {
            "name": "dMinLengthOfNailLine",
            "technicalDefault": "150",
            "businessMeaning": "The minimum length a beam contact patch must have to generate a nail line. Prevents nailing on small offcuts or very short overlaps.",
            "validRange": "50 - 500 mm",
            "unit": "mm",
            "affectsOutput": "Suppresses nail generation on short intersections below this threshold."
          },
          {
            "name": "sApplyNailingPerSheet",
            "technicalDefault": "|Yes|",
            "businessMeaning": "If Yes, nail lines are calculated individually for each sheet, stopping at sheet joints. If No, sheets are treated as a merged surface, potentially nailing continuously across joints.",
            "validRange": "Yes/No",
            "unit": "N/A",
            "affectsOutput": "Controls whether nail lines break at sheet edges (Yes) or continue across them (No)."
          },
          {
            "name": "dDistEdgeSheetOnSheetJoint",
            "technicalDefault": "0",
            "businessMeaning": "The required distance from a sheet edge (where two sheets meet) before a nail can be placed.",
            "validRange": "0 - 50 mm",
            "unit": "mm",
            "affectsOutput": "Moves the inner-most row of nails away from the sheet joint by this amount."
          },
          {
            "name": "sAllowNaillinesInMinimumOffsetArea",
            "technicalDefault": "|No|",
            "businessMeaning": "If Yes, overrides the 'Distance to sheet edge' rule and allows nails even if they fall within the restricted margin.",
            "validRange": "Yes/No",
            "unit": "N/A",
            "affectsOutput": "Forces nail generation in narrow margins where 'dDistEdgeSheetOnSheetJoint' would normally suppress them."
          },
          {
            "name": "sAllowIntermediateNaillines",
            "technicalDefault": "|Yes|",
            "businessMeaning": "Toggles the generation of intermediate (field) nails. If No, only perimeter nailing is applied.",
            "validRange": "Yes/No",
            "unit": "N/A",
            "affectsOutput": "If No, all intermediate nailing is removed, leaving only the perimeter fasteners."
          }
        ],
        "parameterDependencies": [
          {
            "trigger": "sApplyNailingPerSheet set to '|No|'",
            "effect": "The script treats sheets as a merged surface. This often means the edge distance logic is applied to the outer boundary of the merged area rather than individual sheets.",
            "cascade": [
              "dDistEdgeSheetOnSheetJoint"
            ]
          },
          {
            "trigger": "sAllowNaillinesInMinimumOffsetArea set to '|Yes|'",
            "effect": "Overrides the exclusion zone defined by the edge distance.",
            "cascade": [
              "dDistEdgeSheetOnSheetJoint"
            ]
          },
          {
            "trigger": "sAllowIntermediateNaillines set to '|No|'",
            "effect": "Disables the calculation and application of field nails.",
            "cascade": [
              "dIntermediateNailSpacing"
            ]
          }
        ],
        "outputEntities": [
          {
            "type": "NailLine",
            "description": "Linear tooling entities defining the path and spacing of fasteners on the sheet surface.",
            "appliedTo": "Sheeting material (Zones) within Wall, Floor, or Roof Elements."
          }
        ]
      },
      "tokens_used": 10478,
      "error": null
    },
    "5": {
      "success": true,
      "data": {
        "workflowDiagram": [
          "1. Script initialization and variable declaration",
          "2. Check if executing on insert (_bOnInsert)",
          "3. [Insertion Mode] Check if insertCycleCount > 1 (Duplicate check)",
          "4. [Insertion Mode] Check for valid Execute Key",
          "5. [Insertion Mode] Show Properties Dialog (if no key)",
          "6. [Insertion Mode] Prompt user to select Elements",
          "7. [Insertion Mode] Iterate through selected Elements",
          "8. [Insertion Mode] Check for existing instances of HSB_E-Naillines with same zone and delete them",
          "9. [Insertion Mode] Insert new TSL instance into Element (Satellite)",
          "10. [Insertion Mode] Report count and erase temporary Master instance",
          "11. [Satellite Mode] Check 'MasterToSatellite' map flag",
          "12. [Satellite Mode] Load properties from catalog if flag is set",
          "13. [Satellite Mode] Verify Element exists",
          "14. [Satellite Mode] Determine Element Type (Wall, Floor, Roof) based on Z-vector",
          "15. [Satellite Mode] Validate Element Type against user selection (sApplyToolingToElementType)",
          "16. [Satellite Mode] Collect all Beams, GenBeams, and Sheets from Element",
          "17. [Satellite Mode] Filter GenBeams using BeamCode, Label, and FilterDefinition",
          "18. [Satellite Mode] Generate dummy beams for non-GenBeam entities if needed",
          "19. [Satellite Mode] Create Sheet profiles based on selected Zone (sApplyToolingTo)",
          "20. [Satellite Mode] Calculate intersecting areas between Beams and Sheets",
          "21. [Satellite Mode] Generate initial NailLines based on intersecting profiles",
          "22. [Satellite Mode] Filter NailLines by Minimum Length (dMinLengthOfNailLine)",
          "23. [Satellite Mode] Filter/Trim NailLines by T-connections (dMinimumDistanceTConnection)",
          "24. [Satellite Mode] Filter/Trim NailLines by Sheet Edge distance (dDistEdgeSheetOnSheetJoint)",
          "25. [Satellite Mode] Split NailLines at beam intersections",
          "26. [Satellite Mode] Classify NailLines as Perimeter or Intermediate based on Zone Profile",
          "27. [Satellite Mode] Apply Spacing (Perimeter vs Intermediate) based on classification",
          "28. [Satellite Mode] Remove Intermediate NailLines if disabled (sAllowIntermediateNaillines)",
          "29. [Satellite Mode] Cleanup dummy beams and erase script instance"
        ],
        "conditionalBranches": [
          {
            "condition": "Script Insertion Cycle",
            "path1": {
              "name": "First Run (insertCycleCount <= 1)",
              "steps": [
                "Prompt for Element selection",
                "Generate satellite TSLs",
                "Erase self"
              ]
            },
            "path2": {
              "name": "Duplicate Run (insertCycleCount > 1)",
              "steps": [
                "Erase self immediately"
              ]
            }
          },
          {
            "condition": "Element Type Detection",
            "path1": {
              "name": "Valid Element Type",
              "steps": [
                "Continue processing with collected geometry"
              ]
            },
            "path2": {
              "name": "Invalid Element Type (Mismatch)",
              "steps": [
                "Report 'Element type filtered out'",
                "Erase instance"
              ]
            }
          },
          {
            "condition": "Apply Nailing Per Sheet (sApplyNailingPerSheet)",
            "path1": {
              "name": "Yes (Treat sheets individually)",
              "steps": [
                "Process specific sheet profiles",
                "Filter perimeter nails using 'filterNailLinesCloseToSheetingEdge'",
                "Apply spacing based on edge proximity"
              ]
            },
            "path2": {
              "name": "No (Merge sheets)",
              "steps": [
                "Process merged zone profile",
                "Determine perimeter vs interior by checking if midpoint is inside shrunk zone profile",
                "Apply spacing based on location"
              ]
            }
          },
          {
            "condition": "Allow Intermediate Naillines (sAllowIntermediateNaillines)",
            "path1": {
              "name": "Yes",
              "steps": [
                "Apply intermediate spacing to interior nails"
              ]
            },
            "path2": {
              "name": "No",
              "steps": [
                "Delete all nail lines identified as intermediate"
              ]
            }
          },
          {
            "condition": "Nail Line Length Check",
            "path1": {
              "name": "Length >= Minimum",
              "steps": [
                "Keep nail line"
              ]
            },
            "path2": {
              "name": "Length < Minimum (dMinLengthOfNailLine)",
              "steps": [
                "Erase nail line"
              ]
            }
          },
          {
            "condition": "Sheet Edge Distance Check",
            "path1": {
              "name": "Distance >= Offset (or Allow Override = Yes)",
              "steps": [
                "Keep original position"
              ]
            },
            "path2": {
              "name": "Distance < Offset (and Allow Override = No)",
              "steps": [
                "Shift nail line inward",
                "Create new line segment",
                "Mark original for deletion"
              ]
            }
          }
        ],
        "validationRules": [
          {
            "check": "Element Selection on Insert",
            "errorMessage": "None explicit (Script exits if selection is empty or cancelled)",
            "recovery": "Run script again and select valid Element(s)"
          },
          {
            "check": "Element Type Compatibility",
            "errorMessage": "\"Element type filtered out: [Type]\"",
            "recovery": "Change 'Apply tooling to element type(s)' property to include the detected type, or select a different element."
          },
          {
            "check": "Existence of Sheets/Zones",
            "errorMessage": "Implicitly fails if no sheets generate (No output)",
            "recovery": "Ensure the Element has material in the selected Zone (sApplyToolingTo)"
          },
          {
            "check": "Nail Line Minimum Length",
            "errorMessage": "None (Silent deletion)",
            "recovery": "Reduce 'Minimum allowed length of nail line' or increase sheet overlap."
          }
        ],
        "postInsertionActions": [
          {
            "action": "Change Nailing Zone",
            "how": "OPM Property (sApplyToolingTo)",
            "effect": "Re-calculates nail lines on a different material layer (Zone)."
          },
          {
            "action": "Adjust Spacing",
            "how": "OPM Property (dPerimeterNailSpacing / dIntermediateNailSpacing)",
            "effect": "Updates the spacing distance of existing nail lines without moving them."
          },
          {
            "action": "Filter Beams",
            "how": "OPM Property (sFilterBC, sFilterLabel, filterDefinitionGenBeams)",
            "effect": "Removes nail lines from beams that no longer match the criteria."
          },
          {
            "action": "Element Geometry Change",
            "how": "Modify Element or Sheets in CAD",
            "effect": "Script automatically regenerates nail lines on next update (e.g., _bOnElementConstructed)."
          }
        ]
      },
      "tokens_used": 11769,
      "error": null
    },
    "6": {
      "success": true,
      "data": {
        "markdown": "# HSB_E-Naillines\n\n## Overview\nAutomatically generates nailing patterns (NailLines) on timber frame elements (walls, floors, or roofs) to attach sheathing or boarding. It calculates tooling paths based on structural beams, sheeting zones, and specific spacing requirements for production.\n\n## Usage Environment\n| Space | Supported | Notes |\n|-------|-----------|-------|\n| Model Space | Yes | Script must be run in the 3D model. |\n| Paper Space | No | Not applicable for layout drawings. |\n| Shop Drawing | No | This script generates 3D tooling data, not 2D annotations. |\n\n## Prerequisites\n- **Required Entities**: \n  - Elements (Wall, Floor, or Roof).\n  - Sheets/Sheathing material assigned to a specific Zone within the element.\n  - Structural Beams or GenBeams within the element.\n- **Minimum Beams**: 0 (Script runs on elements; if no beams match filters, no nails are generated).\n- **Required Settings Files**: \n  - `HSB_G-FilterGenBeams` (Optional, used for beam filtering).\n\n## Usage Steps\n\n### Step 1: Launch Script\n1. Type `TSLINSERT` in the command line.\n2. Browse and select `HSB_E-Naillines.mcr`.\n\n### Step 2: Configure Properties\n1. The Properties Palette (OPM) will appear upon insertion.\n2. Set your desired parameters (see **Properties Panel Parameters** below).\n3. Click OK or close the palette to proceed.\n\n### Step 3: Select Elements\n```\nCommand Line: Select a set of elements\nAction: Click on the Wall, Floor, or Roof elements you want to process. Press Enter to confirm selection.\n```\n\n### Step 4: Processing\nThe script will automatically calculate and insert nail lines into the selected elements based on the configuration. The script instance will then remove itself, leaving only the generated tooling.\n\n## Properties Panel Parameters\n\n### Selection\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Apply tooling to element type(s) | dropdown | | Choose which element types to process (Roof, Floor, Wall, or combinations). |\n| Apply nailing to | dropdown | Zone 2 | Select the material layer (Zone) to apply the nailing to (e.g., external sheathing). |\n| Filter definition genbeams | dropdown | | Select a predefined filter to target specific beams (e.g., only studs). |\n\n### Filters\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Filter beams with beamcode | text | | Enter a beam code to filter (supports wildcards like `R*`). |\n| Filter beams and sheets with label | text | | Only process beams/sheets matching this specific label. |\n\n### Tooling\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Toolindex | number | 10 | The ID of the nail gun/fastener to be used in production. |\n| Perimeter nail spacing | number | 100 | Spacing between nails along the outer edges of the sheet (mm). |\n| Intermediate nail spacing | number | 200 | Spacing between nails in the interior/field of the sheet (mm). |\n| Minimum distance to t-connection | number | 10 | Clearance from T-connections (intersections) before placing a nail (mm). |\n| Minimum allowed length of nail line | number | 150 | Shorter nail lines than this value will be deleted (mm). |\n| Apply nailing per sheet | dropdown | Yes | If Yes, nails stop at sheet joints. If No, nails may run continuously across joints. |\n| Minimum distance to sheet edge | number | 0 | Required distance from a sheet joint before placing a nail (mm). |\n| Apply naillines in area smaller then minimum distance | dropdown | No | If Yes, allows nails even if they violate the edge distance rule. |\n| Apply intermediate naillines | dropdown | Yes | If No, only perimeter nails are generated; field nailing is skipped. |\n\n## Right-Click Menu Options\nNo custom right-click menu options are available for this script.\n\n## Settings Files\n- **Filename**: `HSB_G-FilterGenBeams.xml` (or similar catalog name)\n- **Location**: Company or Install path (Catalogs)\n- **Purpose**: Stores predefined filter sets to select specific groups of beams (e.g., \"StudsOnly\", \"Rafters\").\n\n## Tips\n- **Sheeting Zones**: Ensure your elements actually have material assigned to the Zone selected in \"Apply nailing to\" (e.g., Zone 2). If the zone is empty, no nails will be generated.\n- **Edge Handling**: If you need nailing right up to the edge of a sheet, set \"Minimum distance to sheet edge\" to 0.\n- **Performance**: When processing large projects, use the \"Filter definition genbeams\" or \"Filter beams with beamcode\" to limit the calculation to structural members only, avoiding unnecessary calculations on trimmers or blocking.\n- **Regeneration**: Since this script erases itself after running, you must delete the generated nail lines and run the script again to change the pattern.\n\n## FAQ\n- **Q: Why did the script run but no nails appeared?**\n  - A: Check the \"Apply tooling to element type(s)\" setting. If you selected \"Wall\" but clicked a \"Floor\" element, nothing will happen. Also, verify that the selected Zone (e.g., Zone 2) actually contains sheets in that element.\n- **Q: Can I nail through multiple sheets at once?**\n  - A: No, this script targets a specific Zone. You must run the script separately for each Zone you want to nail.\n- **Q: What happens if I change a beam's position after running the script?**\n  - A: The nail lines will not automatically update because the script instance deletes itself after generation. You must delete the old nail lines and re-run the script."
      },
      "tokens_used": 8691,
      "error": null
    }
  }
}