{
  "filename": "HSB-SectionManager.mcr",
  "status": "completed",
  "total_tokens": 56231,
  "processing_time": 408.32085824012756,
  "passes": {
    "1": {
      "success": true,
      "data": {},
      "tokens_used": 8835,
      "error": null
    },
    "2": {
      "success": true,
      "data": {
        "usageEnvironment": {
          "primarySpace": "PaperSpace",
          "supportsPaperSpace": true,
          "isShopDrawingScript": false,
          "isMultipageScript": false,
          "detectionEvidence": "Script explicitly uses `_Viewport` and `getViewport` to prompt the user. It performs coordinate transformations using `ms2ps` (Model Space to Paper Space) and retrieves viewport dimensions via `vp.widthPS()` and `vp.heightPS()`. The script visualizes and manages section geometry relative to viewports in a layout."
        },
        "prerequisites": {
          "requiredEntities": [
            "Viewport",
            "Element",
            "GenBeam"
          ],
          "minimumBeams": 0,
          "requiredSpace": "Paper Space layout containing a Viewport linked to a valid hsbCAD Element.",
          "requiredSettings": [
            "HSB_G-FilterGenBeams.mcr",
            "DimStyles",
            "LineTypes"
          ]
        }
      },
      "tokens_used": 6805,
      "error": null
    },
    "3": {
      "success": true,
      "data": {
        "raw_content": "```json\n{\n  \"commandLine\": {\n    \"insertionFlow\": [\n      {\n        \"step\": 1,\n        \"function\": \"getViewport\",\n        \"promptOriginal\": \"|Select a viewport|\",\n        \"condition\": \"_bOnInsert\",\n        \"required\": true\n      }\n    ],\n    \"runtimeFlow\": [\n      {\n        \"step\": 1,\n        \"function\": \"getString\",\n        \"promptOriginal\": \"Fill in the ID of the section to delete.\",\n        \"condition\": \"Context menu 'Delete section' triggered\",\n        \"required\": true\n      }\n    ]\n  },\n  \"dialogs\": [\n    {\n      \"type\": \"ShowDialog\",\n      \"trigger\": \"On Insert\",\n      \"title\": null,\n      \"dataSource\": \"OPM Properties\",\n      \"features\": {\n        \"searchable\": false,\n        \"multiSelect\": false\n      }\n    }\n  ],\n  \"opmProperties\": [\n    {\n      \"index\": 0,\n      \"variable\": \"dStandardSectionDepth\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"|Standard section depth|\",\n      \"defaultValue\": \"500 (mm)\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": \"|Sections|\",\n      \"description\": \"|Depth can be adjusted through the context menu|\"\n    },\n    {\n      \"index\": 1,\n      \"variable\": \"dOpeningSectionDepth\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"|Opening section depth|\",\n      \"defaultValue\": \"500 (mm)\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": \"|Sections|\",\n      \"description\": \"|Depth can be adjusted through the context menu|\"\n    },\n    {\n      \"index\": 2,\n      \"variable\": \"dCustomSectionDepth\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"|Custom section depth|\",\n      \"defaultValue\": \"500 (mm)\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": \"|Sections|\",\n      \"description\": \"|Depth can be adjusted through the context menu|\"\n    },\n    {\n      \"index\": 2,\n      \"variable\": \"sVisualizeSection\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Visualize sections|\",\n      \"defaultValue\": \"|No|\",\n      \"inputType\": \"dropdown\",\n      \"options\": [\n        \"|Yes|\",\n        \"|No|\"\n      ],\n      \"category\": \"|Visible sections|\",\n      \"description\": null\n    },\n    {\n      \"index\": 3,\n      \"variable\": \"dOffset\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"|Offset|\",\n      \"defaultValue\": \"100 (mm)\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": \"|Visible sections|\",\n      \"description\": null\n    },\n    {\n      \"index\": 3,\n      \"variable\": \"sLineTypeVisibleSection\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Line type visible section|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"dropdown\",\n      \"options\": \"_LineTypes\",\n      \"category\": \"|Visible sections|\",\n      \"description\": null\n    },\n    {\n      \"index\": 4,\n      \"variable\": \"horizontalSectionOffset\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"|Offset standard horizontal section|\",\n      \"defaultValue\": \"1000 (mm)\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": \"|Sections|\",\n      \"description\": \"|Offset for standard horizontal section.|\"\n    },\n    {\n      \"index\": 4,\n      \"variable\": \"sOffsetFrom\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Offset visible sections from|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"dropdown\",\n      \"options\": [\n        \"|Viewport|\",\n        \"|Element|\"\n      ],\n      \"category\": \"|Visible sections|\",\n      \"description\": null\n    },\n    {\n      \"index\": 5,\n      \"variable\": \"propAddOpeningAsExtraStandardSections\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Add openings as extra sections|\",\n      \"defaultValue\": \"|Yes|\",\n      \"inputType\": \"dropdown\",\n      \"options\": [\n        \"|Yes|\",\n        \"|No|\"\n      ],\n      \"category\": \"|Sections|\",\n      \"description\": \"|Add additional sections for the openings.|\"\n    },\n    {\n      \"index\": 5,\n      \"variable\": \"dTextHeight\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"|Text Height|\",\n      \"defaultValue\": \"10 (mm)\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": \"|Format|\",\n      \"description\": \"|Defines the Text Height|\"\n    },\n    {\n      \"index\": 6,\n      \"variable\": \"sFilterLabel\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Filter beams and sheets with label|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": \"|Filter|\",\n      \"description\": \"|Beams and sheets with these labels are excluded.|\"\n    },\n    {\n      \"index\": 7,\n      \"variable\": \"sFilterMaterial\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Filter beams and sheets with material|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": \"|Filter|\",\n      \"description\": \"|Beams and sheets with these materials are excluded.|\"\n    },\n    {\n      \"index\": 8,\n      \"variable\": \"sFilterHsbID\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Filter beams and sheets with hsbID|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": \"|Filter|\",\n      \"description\": \"|Beams and sheets with these hsb ID's are excluded.|\"\n    },\n    {\n      \"index\": 9,\n      \"variable\": \"sFilterZone\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Filter zones|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": \"|Filter|\",\n      \"description\": \"|Beams and sheets with at these zones are excluded.|\"\n    },\n    {\n      \"index\": 10,\n      \"variable\": \"sFilterOpening\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Filter openings with description|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": \"|Filter|\",\n      \"description\": \"|Openings with these descriptions are excluded.|\"\n    },\n    {\n      \"index\": 11,\n      \"variable\": \"propReferenceSideHorizontalOffset\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Reference side horizontal offset|\",\n      \"defaultValue\": \"|Bottom|\",\n      \"inputType\": \"dropdown\",\n      \"options\": [\n        \"|Bottom|\",\n        \"|Top|\"\n      ],\n      \"category\": \"|Sections|\",\n      \"description\": \"|Side to offset horizontal section from.|\"\n    },\n    {\n      \"index\": 12,\n      \"variable\": \"genBeamFilterDefinition\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Filter definition for GenBeams|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"dropdown\",\n      \"options\": \"getListOfCatalogNames(HSB_G-FilterGenBeams)\",\n      \"category\": \"|Filter|\",\n      \"description\": \"|Filter definition for GenBeams. Use| HSB_G-FilterGenBeams.mcr |to define the filters|.\"\n    },\n    {\n      \"index\": 13,\n      \"variable\": \"sectionPosition\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Section Position|(s)\",\n      \"defaultValue\": \"|Vertical and Horizontal|\",\n      \"inputType\": \"dropdown\",\n     "
      },
      "tokens_used": 9569,
      "error": null
    },
    "4": {
      "success": true,
      "data": {
        "raw_content": "```json\n{\n  \"scriptPurpose\": {\n    \"summary\": \"Automates the creation and management of 2D section markers (cutting lines) in PaperSpace layouts for timber wall or floor elements.\",\n    \"category\": \"ShopDrawing\",\n    \"typicalUseCase\": \"Used during the detailing phase to automatically generate section indicators (A, B, C or 1, 2, 3) on layout views, including automatic sections for openings, with options to visualize the cutting planes.\"\n  },\n  \"parameters\": [\n    {\n      \"name\": \"dStandardSectionDepth\",\n      \"technicalDefault\": \"500 (mm)\",\n      \"businessMeaning\": \"The graphical length of the standard section cut line (the line with arrows indicating the cut) in the layout.\",\n      \"validRange\": \"100 - 2000\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Determines how long the section line marker appears on the drawing for primary sections.\"\n    },\n    {\n      \"name\": \"dOpeningSectionDepth\",\n      \"technicalDefault\": \"500 (mm)\",\n      \"businessMeaning\": \"The graphical length of the section cut line specifically for sections generated automatically at window/door openings.\",\n      \"validRange\": \"100 - 2000\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Changes the length of section markers associated with openings.\"\n    },\n    {\n      \"name\": \"dCustomSectionDepth\",\n      \"technicalDefault\": \"500 (mm)\",\n      \"businessMeaning\": \"The graphical length of the section cut line for manually added sections via context menu.\",\n      \"validRange\": \"100 - 2000\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Changes the length of manually placed section markers.\"\n    },\n    {\n      \"name\": \"sVisualizeSection\",\n      \"technicalDefault\": \"|No|\",\n      \"businessMeaning\": \"Toggles the visibility of the section cutting plane (hatched area or polygon) in the layout.\",\n      \"validRange\": \"Yes/No\",\n      \"unit\": \"bool\",\n      \"affectsOutput\": \"If 'Yes', draws a polyline representing the section plane; if 'No', only the section line and text are shown.\"\n    },\n    {\n      \"name\": \"dOffset\",\n      \"technicalDefault\": \"100 (mm)\",\n      \"businessMeaning\": \"The distance between the viewport boundary (or element) and the start of the visible section plane/line.\",\n      \"validRange\": \"0 - 1000\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Moves the section markers closer to or further from the drawing content.\"\n    },\n    {\n      \"name\": \"sLineTypeVisibleSection\",\n      \"technicalDefault\": \"\",\n      \"businessMeaning\": \"The CAD LineType (e.g., Hidden, Dashed) assigned to the visualized section polygon.\",\n      \"validRange\": \"Standard AutoCAD LineTypes\",\n      \"unit\": \"string\",\n      \"affectsOutput\": \"Changes the visual style (dash pattern) of the section plane visualization.\"\n    },\n    {\n      \"name\": \"horizontalSectionOffset\",\n      \"technicalDefault\": \"1000 (mm)\",\n      \"businessMeaning\": \"The offset distance from the reference side (Top/Bottom) to place the horizontal section line.\",\n      \"validRange\": \"0 - 5000\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \""
      },
      "tokens_used": 11219,
      "error": null
    },
    "5": {
      "success": true,
      "data": {
        "raw_content": "```json\n{\n  \"workflowDiagram\": [\n    \"1. Insert Script: User runs command from catalog.\",\n    \"2. Viewport Selection: Script prompts user to select a PaperSpace viewport (getViewport).\",\n    \"3. Property Initialization: OPM Properties are set to defaults (or loaded from catalog key).\",\n    \"4. Validation: Script checks if viewport exists and contains a valid hsbCAD Element. If invalid, script instance is erased.\",\n    \"5. Trigger Evaluation: Script checks if a Context Menu command (Recalculate, Delete, etc.) was triggered.\",\n    \"6. Filter Processing: Script parses string properties for filters (Label, Material, hsbID, Zone, Opening) and applies them to the Element's beams.\",\n    \"7. Section Logic Generation:\",\n    \"   a. Determine Reference Point (Viewport Center or Element Center based on 'sOffsetFrom').\",\n    \"   b. Identify Openings: Calculate centers of filtered openings.\",\n    \"   c. Identify Structural Beams: Filter beams, find the longest vertical beam to determine the 'Standard' section location.\",\n    \"8. Map Construction:\",\n    \"   a. Based on 'propAddOpeningAsExtraStandardSections', opening centers are added/merged into the section list.\",\n    \"   b. Based on 'sectionPosition' (Vertical/Horizontal/Both), standard section planes are added to the list.\",\n    \"   c. Assign IDs (A, B, C... for Horizontal; 1, 2, 3... for Vertical).\",\n    \"   d. Transform Model Space coordinates to Paper Space using the Viewport transformation (ms2ps).\",\n    \"   e. Store resulting Section definitions in the global _Map.\",\n    \"9. Visualization Loop:\",\n    \"   a. Iterate through the generated sections in the Map.\",\n    \"   b. Draw the Section Line (Ruler) and Label.\",\n    \"   c. If 'sVisualizeSection' is Yes, draw the cutting plane polygon/hatch.\"\n  ],\n  \"conditionalBranches\": [\n    {\n      \"condition\": \"Insertion Cycle\",\n      \"path1\": {\n        \"name\": \"First Cycle\",\n        \"steps\": [\"Prompt for Viewport\", \"Show Dialog\", \"Stop\"]\n      },\n      \"path2\": {\n        \"name\": \"Subsequent Cycles\",\n        \"steps\": [\"Erase Instance\", \"Return\"]\n      }\n    },\n    {\n      \"condition\": \"Property: Section Position\",\n      \"path1\": {\n        \"name\": \"Vertical and Horizontal\",\n        \"steps\": [\"Generate section on Local Y Axis\", \"Generate section on Local X Axis\"]\n      },\n      \"path2\": {\n        \"name\": \"Vertical Only\",\n        \"steps\": [\"Generate section on Local Y Axis only\"]\n      },\n      \"path3\": {\n        \"name\": \"Horizontal Only\",\n        \"steps\": [\"Generate section on Local X Axis only\"]\n      }\n    },\n    {\n      \"condition\": \"Property: Visualize Sections\",\n      \"path1\": {\n        \"name\": \"Yes\",\n        \"steps\": [\"Draw Section Line\", \"Draw Section Polygon (Hatch/Plane)\"]\n      },\n      \"path2\": {\n        \"name\": \"No\",\n        \"steps\": [\"Draw Section Line only\"]\n      }\n    },\n    {\n      \"condition\": \"Property: Add openings as extra sections\",\n      \"path1\": {\n        \"name\": \"Yes\",\n        \"steps\": [\"Calculate Standard Sections\", \"Add Opening Centers to Section List\"]\n      },\n      \"path2\": {\n        \"name\": \"No\",\n        \"steps\": [\"Use Opening Centers as Standard Section location (Replacement logic)\"]\n      }\n    },\n    {\n      \"condition\": \"Context Menu: Delete Section\",\n      \"path1\": {\n        \"name\": \"Triggered\",\n        \"steps\": [\"Prompt for Section ID (A/1/2...)\", \"Search Map\", \"Remove Entry if Found\", \"Redraw\"]\n      }\n    }\n  ],\n  \"validationRules\": [\n    {\n      \"check\": \"Viewport Selection\",\n      \"errorMessage\": \"N/A (Implicit)\",\n      \"recovery\": \"Script erases itself if no viewport is selected.\"\n    },\n    {\n      \"check\": \"Element Validity\",\n      \"errorMessage\": \"N/A (Implicit)\",\n      \"recovery\": \"Script returns immediately if the selected viewport does not reference a valid hsbCAD Element.\"\n    }\n  ],\n  \"postInsertionActions\": [\n    {\n      \"action\": \"Adjust Section Depths\",\n      \"how\": \"OPM Properties (Standard, Opening, Custom depths)\",\n      \"effect\": \"Updates the graphical length of the section lines immediately on recalculation.\"\n    },\n    {\n      \"action\": \"Delete Specific Section\",\n      \"how\": \"Right-click Context Menu -> 'Delete section'\",\n      \"effect\": \"Prompts user for ID (e.g., 'A' or '1'), removes that specific section marker from the drawing, and preserves the others.\"\n    },\n    {\n      \"action\": \"Recalculate / Recalculate All\",\n      \"how\": \"Right-click Context Menu\",\n      \"effect\": \"Re-runs the section logic (useful if the model geometry changes or filters are modified). 'Recalculate All' clears the global map cache.\"\n    },\n    {\n      \"action\": \"Modify Filters\",\n      \"how\": \"OPM Properties (Filter"
      },
      "tokens_used": 12027,
      "error": null
    },
    "6": {
      "success": true,
      "data": {
        "markdown": "# HSB-SectionManager.mcr\n\n## Overview\nAutomates the creation and management of 2D section markers (cutting lines) in PaperSpace layouts for timber wall or floor elements. It automatically generates section indicators (A, B, C or 1, 2, 3) on layout views, including optional sections for openings, with tools to visualize and manage the cutting planes.\n\n## Usage Environment\n| Space | Supported | Notes |\n|-------|-----------|-------|\n| Model Space | No | This script operates entirely within PaperSpace layouts. |\n| Paper Space | Yes | Requires a viewport linked to an hsbCAD Element. |\n| Shop Drawing | Yes | Used for detailing views and creating section cuts. |\n\n## Prerequisites\n- **Required Entities**: A layout containing a `Viewport` that displays a valid hsbCAD `Element` (Wall or Floor).\n- **Minimum Beam Count**: 0 (Script works on the element level, but requires geometry to generate meaningful sections).\n- **Required Settings**: \n    - `HSB_G-FilterGenBeams.mcr` (for advanced beam filtering)\n    - Standard AutoCAD `DimStyles` and `LineTypes`.\n\n## Usage Steps\n\n### Step 1: Launch Script\nCommand: `TSLINSERT` â†’ Select `HSB-SectionManager.mcr` from the catalog.\n\n### Step 2: Select Viewport\n```\nCommand Line: Select a viewport\nAction: Click on the viewport in the layout where you want to generate section markers.\n```\n*Note: The script will automatically detect the element inside the viewport and generate section markers based on the default properties.*\n\n## Properties Panel Parameters\n\n### Sections\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Standard section depth | Number | 500 mm | Graphical length of the section cut line for standard sections. |\n| Opening section depth | Number | 500 mm | Graphical length of the section cut line for openings (windows/doors). |\n| Custom section depth | Number | 500 mm | Graphical length for manually added sections. |\n| Offset standard horizontal section | Number | 1000 mm | Distance from the reference side to place the horizontal section line. |\n| Reference side horizontal offset | Dropdown | Bottom | Sets the reference for the horizontal offset (Top or Bottom). |\n| Section Position(s) | Dropdown | Vertical and Horizontal | Determines which sections to generate automatically. |\n| Add openings as extra sections | Dropdown | Yes | If 'Yes', adds sections specifically for openings; if 'No', openings may replace standard section locations. |\n\n### Visible Sections\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Visualize sections | Dropdown | No | If 'Yes', draws the cutting plane polygon/hatch; if 'No', only the line and text are shown. |\n| Offset | Number | 100 mm | Distance between the viewport (or element) boundary and the start of the section line. |\n| Offset visible sections from | Dropdown | Viewport | Calculates the offset distance from either the Viewport or the Element geometry. |\n| Line type visible section | Dropdown | *ByLayer* | The CAD LineType assigned to the visualized section plane. |\n\n### Format\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Text Height | Number | 10 mm | Height of the section label text (e.g., \"A\", \"1\"). |\n\n### Filter\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Filter beams and sheets with label | Text | Empty | Excludes beams/sheets matching this label. |\n| Filter beams and sheets with material | Text | Empty | Excludes beams/sheets matching this material. |\n| Filter beams and sheets with hsbID | Text | Empty | Excludes beams/sheets matching these hsbIDs. |\n| Filter zones | Text | Empty | Excludes beams/sheets in these zones. |\n| Filter openings with description | Text | Empty | Excludes openings matching this description. |\n| Filter definition for GenBeams | Dropdown | Empty | Select a pre-defined filter from `HSB_G-FilterGenBeams.mcr`. |\n\n## Right-Click Menu Options\n\n| Menu Item | Description |\n|-----------|-------------|\n| Recalculate | Updates the section markers based on current geometry and property settings. |\n| Recalculate All | Clears the internal cache and recalculates all sections. Use this if sections seem stuck or missing. |\n| Delete section | Prompts you to enter a Section ID (e.g., \"A\", \"1\", \"B\") to remove a specific section marker from the drawing. |\n\n## Settings Files\n- **Filename**: `HSB_G-FilterGenBeams.mcr`\n- **Location**: Company or TSL Catalog path\n- **Purpose**: Provides pre-defined filter catalogs to easily exclude specific types of beams (e.g., rafters, gable studs) from the section calculation logic.\n\n## Tips\n- **Visualization**: Turn \"Visualize sections\" to **Yes** temporarily to see exactly where the script is cutting the model. This helps verify that filters are working correctly before plotting.\n- **Filtering**: Use the \"Filter definition for GenBeams\" to quickly exclude common elements like \"RidgeBeams\" or \"Purlins\" without needing to know specific material names.\n- **Offsets**: If your section markers are overlapping the drawing, increase the \"Offset\" property. If they are too far away, decrease it or switch \"Offset visible sections from\" to `Element`.\n- **Manual Deletion**: If the auto-generated sections are not where you want them, use the \"Delete section\" context menu to remove specific ones, and manually draw your own if necessary.\n\n## FAQ\n- **Q: Why are no sections showing up?**\n  **A**: Check your \"Section Position(s)\" property. If set to \"Vertical Only\" but your element is a floor viewed from above, you might need \"Horizontal Only\". Also, verify that your filters are not excluding every beam in the element.\n\n- **Q: How do I change the section label from 'A' to '1'?**\n  **A**: The script automatically assigns letters (A, B, C) to horizontal sections and numbers (1, 2, 3) to vertical sections. You cannot change this convention directly in the properties, but you can delete the auto-generated section and draw a manual one, or modify the script code if customization is required.\n\n- **Q: The section line is too short/long.**\n  **A**: Adjust the \"Standard section depth\" or \"Opening section depth\" properties in the palette and run \"Recalculate\".\n\n- **Q: Can I use this on a Roof element?**\n  **A**: Yes, provided the Roof is treated as a valid hsbCAD Element within the viewport. The logic relies on finding the longest vertical beam to determine placement, so results may vary based on roof geometry (e.g., flat roofs vs. steep rafters)."
      },
      "tokens_used": 7776,
      "error": null
    }
  }
}