{
  "filename": "hsb_Steel Connection.mcr",
  "status": "completed",
  "total_tokens": 58295,
  "processing_time": 258.04885363578796,
  "passes": {
    "1": {
      "success": true,
      "data": {
        "header": {
          "type": null,
          "numBeamsReq": null,
          "keywords": [],
          "majorVersion": null,
          "minorVersion": null,
          "dxaOut": 0,
          "implInsert": 0
        },
        "description": "",
        "versionHistory": [
          {
            "version": "1.0",
            "date": "03.07.2008",
            "author": "Alberto Jena (aj@hsb-cad.com)",
            "changes": "Release Version"
          },
          {
            "version": "1.3",
            "date": "16.03.2009",
            "author": "",
            "changes": "Add support for more connections"
          },
          {
            "version": "1.5",
            "date": "29.10.2010",
            "author": "",
            "changes": "Add the plate and the TSL to the group of the Beam"
          },
          {
            "version": "1.6",
            "date": "05.04.2011",
            "author": "",
            "changes": "Bugfix with vectors in the front connection"
          }
        ],
        "settingsFiles": [],
        "dependencies": []
      },
      "tokens_used": 8086,
      "error": null
    },
    "2": {
      "success": true,
      "data": {
        "usageEnvironment": {
          "primarySpace": "ModelSpace",
          "supportsPaperSpace": false,
          "isShopDrawingScript": false,
          "isMultipageScript": false,
          "detectionEvidence": "The script utilizes `getBeam()` and `PrEntity` for interactive 3D element selection. It generates solid geometry using `Body()` and `dbCreate()` to create steel plates. It applies `Cut` and `BeamCut` tools to the selected beams and manages `Group` associations. There are no references to `_Viewport`, `_kPaperSpace`, or `sd_` prefixes typically associated with ShopDrawing scripts."
        },
        "prerequisites": {
          "requiredEntities": [
            "GenBeam"
          ],
          "minimumBeams": 2,
          "requiredSpace": "Model Space",
          "requiredSettings": [
            "hsb-SubAssembly"
          ]
        }
      },
      "tokens_used": 7359,
      "error": null
    },
    "3": {
      "success": true,
      "data": {
        "raw_content": "```json\n{\n  \"commandLine\": {\n    \"insertionFlow\": [\n      {\n        \"step\": 1,\n        \"function\": \"showDialogOnce\",\n        \"promptOriginal\": null,\n        \"condition\": \"_bOnInsert && _kExecuteKey==\\\"\\\"\",\n        \"required\": true\n      },\n      {\n        \"step\": 2,\n        \"function\": \"getBeam\",\n        \"promptOriginal\": \"Select Male Beam\",\n        \"condition\": \"_bOnInsert\",\n        \"required\": true\n      },\n      {\n        \"step\": 3,\n        \"function\": \"PrEntity\",\n        \"promptOriginal\": \"Select Female Beam\",\n        \"condition\": \"_bOnInsert && _Beam[0].type()==_kPost\",\n        \"required\": true\n      },\n      {\n        \"step\": 4,\n        \"function\": \"getPoint\",\n        \"promptOriginal\": \"Please select a point on the side of the beam where you need the Plate\",\n        \"condition\": \"_bOnInsert && _Beam[0].type()==_kPost && _Beam.length()==1\",\n        \"required\": true\n      },\n      {\n        \"step\": 5,\n        \"function\": \"getBeam\",\n        \"promptOriginal\": \"Select Female Beam\",\n        \"condition\": \"_bOnInsert && _Beam[0].type()!=_kPost\",\n        \"required\": true\n      }\n    ],\n    \"keywordOptions\": []\n  },\n  \"dialogs\": [\n    {\n      \"type\": \"Standard Properties\",\n      \"trigger\": \"_bOnInsert && _kExecuteKey==\\\"\\\"\",\n      \"title\": null,\n      \"dataSource\": \"OPM Properties\",\n      \"features\": {\n        \"searchable\": false,\n        \"multiSelect\": false\n      }\n    }\n  ],\n  \"opmProperties\": [\n    {\n      \"index\": 0,\n      \"variable\": \"dDepthTopCut\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"Top Cut Depth\",\n      \"defaultValue\": \"20\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 1,\n      \"variable\": \"dBackTopCut\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"Top Back Cut\",\n      \"defaultValue\": \"20\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 2,\n      \"variable\": \"dDepthBottomCut\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"Bottom Cut Depth\",\n      \"defaultValue\": \"20\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 3,\n      \"variable\": \"dBackBottomCut\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"Bottom Back Cut\",\n      \"defaultValue\": \"20\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 4,\n      \"variable\": \"dDepthLeftCut\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"Left Cut Depth\",\n      \"defaultValue\": \"20\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 5,\n      \"variable\": \"dBackLeftCut\",\n      \"type\": \"PropDouble\",\n      \"displayName\": \"Left Back Cut\",\n      \"defaultValue\": \"20\",\n      \"inputType\": \"number\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 6,\n      \"variable\": \"dDepth"
      },
      "tokens_used": 10539,
      "error": null
    },
    "4": {
      "success": true,
      "data": {
        "raw_content": "```json\n{\n  \"scriptPurpose\": {\n    \"summary\": \"Generates steel connection plates and corresponding timber cuts to join two beams (Male and Female) either end-to-end (front) or perpendicularly (side).\",\n    \"category\": \"Hardware / Connection\",\n    \"typicalUseCase\": \"Creating steel splice plates for beam connections, such as flitch plates, T-connections, or angled scarf joints, ensuring the steel plate fits the timber geometry.\"\n  },\n  \"parameters\": [\n    {\n      \"name\": \"dDepthTopCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Depth of the vertical cut made into the top edge of the Male beam to accommodate the Female beam or connection geometry.\",\n      \"validRange\": \"0 - Half of Beam Height\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Adds a volumetric cut (BeamCut) to the top side of the Male beam.\"\n    },\n    {\n      \"name\": \"dBackTopCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Horizontal setback distance of the top cut from the main intersection face of the beams.\",\n      \"validRange\": \"0 - Beam Width\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Shifts the position of the top cut relative to the insertion point.\"\n    },\n    {\n      \"name\": \"dDepthBottomCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Depth of the vertical cut made into the bottom edge of the Male beam.\",\n      \"validRange\": \"0 - Half of Beam Height\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Adds a volumetric cut (BeamCut) to the bottom side of the Male beam.\"\n    },\n    {\n      \"name\": \"dBackBottomCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Horizontal setback distance of the bottom cut from the main intersection face.\",\n      \"validRange\": \"0 - Beam Width\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Shifts the position of the bottom cut.\"\n    },\n    {\n      \"name\": \"dDepthLeftCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Depth of the cut made into the left side of the Male beam (relative to its Y-axis).\",\n      \"validRange\": \"0 - Half of Beam Width\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Adds a volumetric cut to the left side of the Male beam.\"\n    },\n    {\n      \"name\": \"dBackLeftCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Setback distance of the left cut from the intersection face.\",\n      \"validRange\": \"0 - Beam Depth\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Shifts the position of the left cut.\"\n    },\n    {\n      \"name\": \"dDepthRightCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Depth of the cut made into the right side of the Male beam.\",\n      \"validRange\": \"0 - Half of Beam Width\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Adds a volumetric cut to the right side of the Male beam.\"\n    },\n    {\n      \"name\": \"dBackRightCut\",\n      \"technicalDefault\": \"20\",\n      \"businessMeaning\": \"Setback distance of the right cut from the intersection face.\",\n      \"validRange\": \"0 - Beam Depth\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Shifts the position of the right cut.\"\n    },\n    {\n      \"name\": \"dPlateWidthM\",\n      \"technicalDefault\": \"80\",\n      \"businessMeaning\": \"The width (horizontal dimension) of the steel plate attached to the Male beam.\",\n      \"validRange\": \"50 - 300\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Resizes the steel plate Body geometry.\"\n    },\n    {\n      \"name\": \"dPlateHeightM\",\n      \"technicalDefault\": \"150\",\n      \"businessMeaning\": \"The height (vertical dimension) of the steel plate attached to the Male beam.\",\n      \"validRange\": \"50 - 600\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Resizes the steel plate Body geometry.\"\n    },\n    {\n      \"name\": \"dPlateThicknessM\",\n      \"technicalDefault\": \"15\",\n      \"businessMeaning\": \"The thickness of the steel plate.\",\n      \"validRange\": \"5 - 40\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Changes the thickness of the solid Body and the depth of the cut recess in the timber.\"\n    },\n    {\n      \"name\": \"sSizeM\",\n      \"technicalDefault\": \"No\",\n      \"businessMeaning\": \"If 'Yes', calculates the plate width and height automatically to match the Male beam's cross-section dimensions at the intersection.\",\n      \"validRange\": \"Yes/No\",\n      \"unit\": \"enum\",\n      \"affectsOutput\": \"Overrides manual Width/Height inputs for the Male plate.\"\n    },\n    {\n      \"name\": \"dPlateWidthF\",\n      \"technicalDefault\": \"80\",\n      \"businessMeaning\": \"The width of the secondary steel plate attached to the Female beam (used in angled/oblique connections).\",\n      \"validRange\": \"50 - 300\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Resizes the secondary steel plate geometry.\"\n    },\n    {\n      \"name\": \"dPlateHeightF\",\n      \"technicalDefault\": \"150\",\n      \"businessMeaning\": \"The height of the secondary steel plate attached to the Female beam.\",\n      \"validRange\": \"50 - 600\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Resizes the secondary steel plate geometry.\"\n    },\n    {\n      \"name\": \"dPlateThicknessF\",\n      \"technicalDefault\": \"15\",\n      \"businessMeaning\": \"The thickness of the secondary steel plate.\",\n      \"validRange\": \"5 - 40\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Changes the thickness of the secondary solid Body.\"\n    },\n    {\n      \"name\": \"sSizeF\",\n      \"technicalDefault\": \"No\",\n      \"businessMeaning\": \"If 'Yes', calculates the Female plate dimensions automatically based on the Female beam profile.\",\n      \"validRange\": \"Yes/No\",\n      \"unit\": \"enum\",\n      \"affectsOutput\": \"Overrides manual Width/Height inputs for the Female plate.\"\n    },\n    {\n      \"name\": \"sCutPlate\",\n      \"technicalDefault\": \"No\",\n      \"businessMeaning\": \"If 'Yes', modifies the steel plate geometry by cutting it to follow the orientation of the Male beam (often used for non-90 degree intersections).\",\n      \"validRange\": \"Yes/No\",\n      \"unit\": \"enum\",\n      \"affectsOutput\": \"Adds a Cut operation to the steel plate Body.\"\n    },\n    {\n      \"name\": \"sPlateLocation\",\n      \"technicalDefault\": \"Front\",\n      \"businessMeaning\": \"Specifies the connection type. 'Front' for end-to-end connections, 'Side' for connections where a beam meets the side of another.\",\n      \"validRange\": \"Front/Side\",\n      \"unit\": \"enum\",\n      \"affectsOutput\": \"Determines the orientation and calculation logic for both the steel plate and the timber cuts.\"\n    },\n    {\n      \"name\": \"sFlipSide\",\n      \"technicalDefault\": \"No\",\n      \"businessMeaning\": \"Flips the plate to the opposite side of the beam centerline (useful for side connections to control left/right positioning).\",\n      \"validRange\": \"Yes/No\",\n      \"unit\": \"enum\",\n      \"affectsOutput\": \"Mirrors the plate position across the beam's longitudinal axis.\"\n    },\n    {\n      \"name\": \"nQty\",\n      \"technicalDefault\": \"0\",\n      \"businessMeaning\": \"Number of bolt rows/columns to drill in the plate. 0 = no holes, 1 = single row, 2 = double row.\",\n      \"validRange\": \"0, 1, 2\",\n      \"unit\": \"count\",\n      \"affectsOutput\": \"Generates cylindrical Drill operations in both the steel plate and the timber beams.\"\n    },\n    {\n      \"name\": \"dDrillTopOffset\",\n      \"technicalDefault\": \"32\",\n      \"businessMeaning\": \"Distance from the top edge of the plate to the center of the bolt hole.\",\n      \"validRange\": \"1.5x Drill Diameter to Plate Height - Offset\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Repositions the drill holes vertically.\"\n    },\n    {\n      \"name\": \"dDrillSideOffset\",\n      \"technicalDefault\": \"32\",\n      \"businessMeaning\": \"Distance from the side edge of the plate to the center of the bolt hole.\",\n      \"validRange\": \"1.5x Drill Diameter to Plate Width - Offset\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Repositions the drill holes horizontally.\"\n    },\n    {\n      \"name\": \"dDrillDiam\",\n      \"technicalDefault\": \"16\",\n      \"businessMeaning\": \"Diameter of the bolt holes to be drilled.\",\n      \"validRange\": \"8 - 36\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Changes the diameter of the drill cylinders.\"\n    },\n    {\n      \"name\": \"sName\",\n      \"technicalDefault\": \"Plate\",\n      \"businessMeaning\": \"The model name or label assigned to the generated steel part"
      },
      "tokens_used": 11087,
      "error": null
    },
    "5": {
      "success": true,
      "data": {
        "workflowDiagram": [
          "Script Start: Check if running on database creation (load catalog values) or insertion.",
          "Insertion Phase: Display Properties Dialog (OPM) for initial configuration.",
          "Input 1: Prompt user to select the Male Beam.",
          "Check Male Beam Type: Determine if selected beam is a Post (vertical) or standard beam.",
          "[Branch - Post]: If Male is a Post, prompt user to select Female Beam (single entity).",
          "[Branch - Post]: If only Male selected (or Female selection cancelled/fails), prompt user to select a point on the side of the Male beam for Plate location.",
          "[Branch - Non-Post]: If Male is not a Post, prompt user to select Female Beam.",
          "Data Processing: Calculate intersection geometry, normals, and plate orientation.",
          "Determine Connection Type: Analyze beam vectors to detect 'Front Angle' (angled splice) or standard 'Front' (end-to-end) vs 'Side' connections.",
          "Generate Geometry: Apply Timber Cuts (BeamCut) to Male beam based on depth and backset properties.",
          "Generate Plate 1: Create solid Body for Male Plate, apply size calculations or manual dimensions.",
          "[Conditional Plate 2]: If 'Front Angle' detected, create second solid Body for Female Plate.",
          "Plate Modification: If 'Cut Plate' is enabled, apply cuts to the steel plate to match Male beam orientation.",
          "Drilling: If Quantity > 0, generate Drill operations for bolt holes in Plate and Beams.",
          "Grouping & Subassembly: Attach Plate and TSL instance to the relevant Beam's Group. Link Plate to SubAssembly.",
          "Script End: Draw visual indicators (local axes)."
        ],
        "conditionalBranches": [
          {
            "condition": "Type of Male Beam selected",
            "path1": {
              "name": "Male is Post",
              "steps": [
                "Prompt Select Female Beam (using PrEntity for single entity)",
                "If Female beam not selected (length==1), Prompt for Point on side of Male beam",
                "Set internal flag 'sTypePost' to TRUE"
              ]
            },
            "path2": {
              "name": "Male is Beam (Standard/Rafter)",
              "steps": [
                "Prompt Select Female Beam (using getBeam)",
                "Do not prompt for side point"
              ]
            }
          },
          {
            "condition": "Geometric Relationship between Beams (Vector Dot Product)",
            "path1": {
              "name": "Angled/Oblique Connection (Front Angle)",
              "steps": [
                "Force 'Location' property to 'Front' (Read-only)",
                "Calculate bisecting vector for plate orientation",
                "Create TWO plates (Male and Female)",
                "Apply cuts using calculated bisecting normal"
              ]
            },
            "path2": {
              "name": "Standard Perpendicular/Planar Connection",
              "steps": [
                "Check 'Location' property (Front or Side)",
                "Calculate intersection points with Female beam body",
                "If no intersection points found, Erase Instance (Error)",
                "Apply Top/Bottom/Left/Right cuts (only in this branch)",
                "Create ONE plate (Male only, or Female logic if applicable to side)"
              ]
            }
          },
          {
            "condition": "Location Property (Side vs Front)",
            "path1": {
              "name": "Side Connection",
              "steps": [
                "Position plate perpendicular to Male beam X-axis",
                "Check 'Flip Side' property to mirror plate across centerline",
                "Group Plate with Male Beam",
                "Drill Male Beam"
              ]
            },
            "path2": {
              "name": "Front Connection",
              "steps": [
                "Position plate on end face of Male beam",
                "Group Plate with Female Beam",
                "Drill Female Beam (or Male if Post/Angle specific logic applies)"
              ]
            }
          },
          {
            "condition": "Automatic Sizing (sSizeM / sSizeF)",
            "path1": {
              "name": "Yes (Automatic)",
              "steps": [
                "Extract contact face of beam at intersection plane",
                "Calculate profile extents (Width/Height)",
                "Overwrite dPlateWidth/dPlateHeight properties with calculated values"
              ]
            },
            "path2": {
              "name": "No (Manual)",
              "steps": [
                "Use user-defined dPlateWidth and dPlateHeight properties directly"
              ]
            }
          }
        ],
        "validationRules": [
          {
            "check": "Intersection between Male beam line and Female beam body",
            "errorMessage": "None (Script silently fails)",
            "recovery": "The script calls `eraseInstance()` and exits if `intersectPoints` returns no results. User must re-insert and ensure beams actually cross."
          },
          {
            "check": "Post Connection with Single Beam",
            "errorMessage": "None (Script continues with side point)",
            "recovery": "If selecting a Female beam is skipped or fails for a Post, the script defaults to asking for a point on the side, allowing for end-plate application without a second beam."
          }
        ],
        "postInsertionActions": [
          {
            "action": "Modify Dimensions and Cuts",
            "how": "OPM Properties Palette",
            "effect": "Updating 'Plate Width/Height', 'Depth/Back Cut', or 'Drill Diameter' properties triggers a recalculation of the solid geometry and drilling operations immediately."
          },
          {
            "action": "Toggle Automatic Sizing",
            "how": "OPM Properties Palette (sSizeM/sSizeF)",
            "effect": "Switching between Yes/No recalculates the plate dimensions based on the current beam intersection geometry or reverts to fixed manual values."
          },
          {
            "action": "Change Connection Type (Side/Front)",
            "how": "OPM Properties Palette (sPlateLocation)",
            "effect": "Reorients the plate geometry and changes the beam grouping association (Male group vs Female group). Note: Read-only if Angled connection is detected."
          },
          {
            "action": "Flip Plate",
            "how": "OPM Properties Palette (sFlipSide)",
            "effect": "Mirrors the plate across the beam's longitudinal axis (useful for Side connections)."
          }
        ]
      },
      "tokens_used": 12048,
      "error": null
    },
    "6": {
      "success": true,
      "data": {
        "markdown": "# hsb_Steel Connection.mcr\n\n## Overview\nGenerates steel connection plates and applies corresponding timber cuts to join two beams (Male and Female). It supports end-to-end connections, perpendicular side connections, and angled front connections, including options for automatic plate sizing and bolt drilling.\n\n## Usage Environment\n| Space | Supported | Notes |\n|-------|-----------|-------|\n| Model Space | Yes | Script generates 3D solids and cuts. |\n| Paper Space | No | Not designed for 2D drawings. |\n| Shop Drawing | No | This is a model generation script. |\n\n## Prerequisites\n- **Required Entities**: At least one `GenBeam`. Typically requires two beams (Male and Female) to form a connection.\n- **Minimum Beam Count**: 1 (if attaching a plate to a Post) or 2 (for standard beam-to-beam connections).\n- **Required Settings**: `hsb-SubAssembly` (used for linking the plate to the construction hierarchy).\n\n## Usage Steps\n\n### Step 1: Launch Script\nCommand: `TSLINSERT` → Select `hsb_Steel Connection.mcr`\n\n### Step 2: Configure Properties (Initial)\nUpon launch, the Properties Palette (OPM) may appear or defaults are loaded. You can adjust initial parameters like Plate Thickness or Drill Diameter now or after insertion.\n\n### Step 3: Select Male Beam\n```\nCommand Line: Select Male Beam\nAction: Click on the primary beam (the one that defines the main reference or receives the plate first).\n```\n\n### Step 4: Select Connection Type (Branching)\nThe script behavior changes based on the type of beam selected in Step 3.\n\n**If Male Beam is a Post (Vertical):**\n```\nCommand Line: Select Female Beam\nAction: Click the intersecting beam to join to the post.\n```\n*If no female beam is selected (or cancelled), the script proceeds to:*\n```\nCommand Line: Please select a point on the side of the beam where you need the Plate\nAction: Click a point on the side of the Post to place an end plate.\n```\n\n**If Male Beam is a Standard/Rafter (Horizontal/Angled):**\n```\nCommand Line: Select Female Beam\nAction: Click the second beam to form the connection (e.g., a perpendicular beam or a splice).\n```\n\n### Step 5: Automatic Generation\nThe script calculates the intersection, generates the steel plate solid, cuts the timber beams to accommodate the plate, and drills bolt holes (if configured).\n\n## Properties Panel Parameters\n\n### Timber Cuts (Male Beam)\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Top Cut Depth | Number | 20 | Vertical depth of the cut on the top edge of the beam. |\n| Top Back Cut | Number | 20 | Horizontal setback of the top cut from the intersection face. |\n| Bottom Cut Depth | Number | 20 | Vertical depth of the cut on the bottom edge of the beam. |\n| Bottom Back Cut | Number | 20 | Horizontal setback of the bottom cut from the intersection face. |\n| Left Cut Depth | Number | 20 | Depth of the cut on the left side of the beam. |\n| Left Back Cut | Number | 20 | Setback of the left cut from the intersection face. |\n| Right Cut Depth | Number | 20 | Depth of the cut on the right side of the beam. |\n| Right Back Cut | Number | 20 | Setback of the right cut from the intersection face. |\n\n### Plate Dimensions (Male)\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Plate Width M | Number | 80 | Width of the steel plate attached to the Male beam. |\n| Plate Height M | Number | 150 | Height of the steel plate attached to the Male beam. |\n| Plate Thickness M | Number | 15 | Thickness of the steel plate. |\n| Auto Size M | Yes/No | No | If **Yes**, overrides Width/Height to match the beam profile automatically. |\n\n### Plate Dimensions (Female)\n*Used for angled connections or specific splice scenarios.*\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Plate Width F | Number | 80 | Width of the secondary steel plate (Female). |\n| Plate Height F | Number | 150 | Height of the secondary steel plate (Female). |\n| Plate Thickness F | Number | 15 | Thickness of the secondary steel plate. |\n| Auto Size F | Yes/No | No | If **Yes**, automatically sizes the Female plate to the beam profile. |\n\n### Connection Settings\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Plate Location | Front/Side | Front | **Front**: End-to-end connection. **Side**: Perpendicular connection (beam meets the side of another). |\n| Flip Side | Yes/No | No | Mirrors the plate to the opposite side of the beam centerline. |\n| Cut Plate | Yes/No | No | If **Yes**, cuts the steel plate geometry to match the angle of the Male beam (useful for non-90° intersections). |\n| Name | String | Plate | The model name/label assigned to the generated steel part. |\n\n### Drilling\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Qty | Number | 0 | Number of bolt rows (0=No holes, 1=Single row, 2=Double row). |\n| Drill Top Offset | Number | 32 | Distance from the top edge of the plate to the center of the hole. |\n| Drill Side Offset | Number | 32 | Distance from the side edge of the plate to the center of the hole. |\n| Drill Diam | Number | 16 | Diameter of the bolt holes. |\n\n## Right-Click Menu Options\nStandard context menu options are available. Modifications are primarily handled via the Properties Palette (OPM).\n\n| Menu Item | Description |\n|-----------|-------------|\n| Properties | Opens the Properties Palette to edit all parameters listed above. |\n| Erase | Removes the script instance and the generated steel plate. |\n\n## Settings Files\n- **Filename**: `hsb-SubAssembly`\n- **Location**: hsbCAD Company or Install directory.\n- **Purpose**: Manages the grouping hierarchy, ensuring the generated steel plate is correctly linked to the timber beam for export and BOM purposes.\n\n## Tips\n- **Automatic Sizing**: For standard connections, set `Auto Size M` to **Yes**. This ensures the plate perfectly fits the beam cross-section even if beam sizes change later.\n- **Angled Connections**: If connecting two beams at an angle (not 90°), the script automatically detects this as an \"Angled Front Connection.\" It creates two plates and aligns them along the bisecting vector. The `Plate Location` property may become read-only in this mode.\n- **Drilling Patterns**: Set `Qty` to `2` to create a double row of bolts. Use the `Top Offset` and `Side Offset` to control the position of the first row; the second row is typically mirrored or spaced based on the plate dimensions.\n- **Post Connections**: If you are attaching a plate to a Post but don't have a second beam yet (e.g., a base plate or column cap), simply select the Post and then select a point on its side when prompted for the Female beam.\n\n## FAQ\n- **Q: Why did the script disappear immediately after selecting beams?**\n  **A:** The script performs an intersection check. If the selected beams do not physically touch or cross each other in 3D space, the script erases itself. Ensure your beams intersect properly.\n  \n- **Q: How do I make the plate go on the other side of the beam?**\n  **A:** Change the `Flip Side` property to **Yes** in the Properties Palette.\n  \n- **Q: Can I use this for column base plates?**\n  **A:** Yes. Select the Post as the Male beam. When prompted for the Female beam, hit Esc or cancel, then click a point on the side of the Post where you want the plate. Set your timber cuts (depths) to 0 if you do not want to cut the timber.\n\n- **Q: The plate size is wrong after I changed the beam size.**\n  **A:** If `Auto Size M` is set to **No**, the plate retains manual dimensions. Switch `Auto Size M` to **Yes** to force the plate to resize to the new beam profile."
      },
      "tokens_used": 9176,
      "error": null
    }
  }
}