{
  "filename": "HSB_T-SingleMark.mcr",
  "status": "completed",
  "total_tokens": 14347,
  "processing_time": 137.5788950920105,
  "passes": {
    "1": {
      "success": true,
      "data": {
        "header": {
          "type": null,
          "numBeamsReq": null,
          "keywords": [],
          "majorVersion": null,
          "minorVersion": null,
          "dxaOut": null,
          "implInsert": null
        },
        "description": "",
        "versionHistory": [
          {
            "version": "1.00",
            "date": "26.08.2015",
            "author": "AS",
            "changes": "Pilot version"
          }
        ],
        "settingsFiles": [],
        "dependencies": []
      },
      "tokens_used": 3780,
      "error": null
    },
    "2": {
      "success": true,
      "data": {
        "usageEnvironment": {
          "primarySpace": "ModelSpace",
          "supportsPaperSpace": false,
          "isShopDrawingScript": false,
          "isMultipageScript": false,
          "detectionEvidence": "Uses standard GenBeam operations (_Beam0.addTool) and insert prompts for 3D model selection. No 'sd_' prefix, '_Viewport' checks, or ShopDrawing specific entities (#Type E) found."
        },
        "prerequisites": {
          "requiredEntities": [
            "GenBeam"
          ],
          "minimumBeams": 1,
          "requiredSpace": "Model Space",
          "requiredSettings": []
        }
      },
      "tokens_used": 1578,
      "error": null
    },
    "3": {
      "success": true,
      "data": {
        "commandLine": {
          "insertionFlow": [
            {
              "step": 1,
              "function": "getGenBeam",
              "promptOriginal": null,
              "condition": "_bOnInsert",
              "required": true
            },
            {
              "step": 2,
              "function": "getPoint",
              "promptOriginal": null,
              "condition": "_bOnInsert",
              "required": true
            }
          ],
          "keywordOptions": []
        },
        "dialogs": [],
        "opmProperties": [
          {
            "index": 0,
            "variable": "marbleDiameter",
            "type": "PropDouble",
            "displayName": "|Marble diameter|",
            "defaultValue": "U(5)",
            "inputType": "number",
            "options": [],
            "category": null,
            "description": null
          }
        ],
        "contextMenu": [],
        "settingsFiles": []
      },
      "tokens_used": 1761,
      "error": null
    },
    "4": {
      "success": true,
      "data": {
        "scriptPurpose": {
          "summary": "Creates a visual marker line on a timber beam at a specific location to indicate an alignment point, material thickness, or reference edge.",
          "category": "Annotation/Construction Reference",
          "typicalUseCase": "Marking a beam to indicate the edge of a material (e.g., marble cladding) or a specific offset height during pre-assembly or installation."
        },
        "parameters": [
          {
            "name": "marbleDiameter",
            "technicalDefault": "U(5)",
            "businessMeaning": "The offset dimension used to position the marker line. Despite the variable name suggesting a diameter, it controls the distance from the selected insertion point to where the mark is placed.",
            "validRange": "1.0 to 100.0",
            "unit": "mm",
            "affectsOutput": "Determines the location of the mark on the beam. Changing this value shifts the marker line closer to or further from the insertion point."
          }
        ],
        "parameterDependencies": [],
        "outputEntities": [
          {
            "type": "Mark",
            "description": "A reference line or symbol applied to the surface of the beam.",
            "appliedTo": "The selected GenBeam."
          }
        ]
      },
      "tokens_used": 1671,
      "error": null
    },
    "5": {
      "success": true,
      "data": {
        "workflowDiagram": [
          "1. Launch script command or drag from catalog.",
          "2. [Insert Phase] System prompts user to select a GenBeam entity.",
          "3. [Insert Phase] System prompts user to select a specific point on the beam (insertion location).",
          "4. Script creates a visual 'Mark' entity at the selected location, associating it with the selected beam.",
          "5. Script applies the default 'Marble diameter' property (default 5mm) to determine the mark's geometry/offset.",
          "6. Entity is generated and added to the model."
        ],
        "conditionalBranches": [],
        "validationRules": [
          {
            "check": "User selects a valid GenBeam entity.",
            "errorMessage": "Standard hsbCAD selection error (user must select a beam).",
            "recovery": "Select a valid beam and try again."
          },
          {
            "check": "User selects a valid point in 3D space.",
            "errorMessage": "Standard hsbCAD point input error.",
            "recovery": "Click a valid coordinate on the screen."
          }
        ],
        "postInsertionActions": [
          {
            "action": "Adjust Marker Offset",
            "how": "OPM Properties Palette (change 'Marble diameter')",
            "effect": "Updates the geometric calculation of the mark (likely offset distance)."
          }
        ]
      },
      "tokens_used": 1983,
      "error": null
    },
    "6": {
      "success": true,
      "data": {
        "markdown": "# HSB_T-SingleMark.mcr\n\n## Overview\nThis script creates a visual marker line on a selected timber beam to indicate a specific alignment point, material thickness, or reference edge (e.g., for stone cladding installation).\n\n## Usage Environment\n\n| Space | Supported | Notes |\n|-------|-----------|-------|\n| Model Space | Yes | Script operates within the 3D model. |\n| Paper Space | No | Not designed for 2D layout sheets. |\n| Shop Drawing | No | Does not generate shop drawing details. |\n\n## Prerequisites\n- **Required Entities**: A single `GenBeam` (Timber Beam) must exist in the model.\n- **Minimum Beam Count**: 1\n- **Required Settings**: None.\n\n## Usage Steps\n\n### Step 1: Launch Script\nCommand: `TSLINSERT` â†’ Select `HSB_T-SingleMark.mcr` from the catalog or script browser.\n\n### Step 2: Select Beam\n```\nCommand Line: Select GenBeam\nAction: Click on the timber beam in the model where you want to place the mark.\n```\n\n### Step 3: Select Location\n```\nCommand Line: Specify Point\nAction: Click on the beam surface or in 3D space to define the insertion location for the marker.\n```\n\n### Step 4: Configure Offset (Optional)\nAfter insertion, select the created mark and adjust the \"Marble diameter\" property in the Properties Palette to set the correct offset distance.\n\n## Properties Panel Parameters\n\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Marble diameter | Number | 5 (mm) | The offset distance used to position the marker line relative to the selected point. Despite the name, this controls the linear distance/offset of the mark. |\n\n## Right-Click Menu Options\nNone available.\n\n## Settings Files\nNone used.\n\n## Tips\n- **Cladding Reference**: Use this script to visualize where stone or marble cladding will sit on the beam by setting the \"Marble diameter\" to the thickness of the material.\n- **Dynamic Adjustment**: You can change the offset distance anytime after insertion by selecting the entity and modifying the value in the Properties Palette (OPM).\n\n## FAQ\n- **Q: Why is the property called \"Marble diameter\"?**\n  **A:** The script was likely designed for marking stone cladding thicknesses. While named \"diameter,\" the parameter functions as a linear offset value to position the mark correctly on the timber."
      },
      "tokens_used": 3574,
      "error": null
    }
  }
}