{
  "filename": "GE_WALL_RERUN_BLOCKING_LINES.mcr",
  "status": "completed",
  "total_tokens": 29929,
  "processing_time": 296.6078555583954,
  "passes": {
    "1": {
      "success": true,
      "data": {
        "header": {
          "type": "",
          "numBeamsReq": 0,
          "keywords": [],
          "majorVersion": 1,
          "minorVersion": 3,
          "dxaOut": 0,
          "implInsert": 0
        },
        "description": "",
        "versionHistory": [
          {
            "version": "1.3",
            "date": "06.07.2014",
            "author": "David Rueda (dr@hsb-cad.com)",
            "changes": "Display text only on DEBUG mode"
          },
          {
            "version": "1.2",
            "date": "02.oct.2013",
            "author": "David Rueda (dr@hsb-cad.com)",
            "changes": "TSL won't stop doing working and display if it does not find blocking in element"
          },
          {
            "version": "1.1",
            "date": "30.jul.2013",
            "author": "David Rueda (dr@hsb-cad.com)",
            "changes": "Erase al previous CHILDREN TLS's inserted by THIS or OTHER instance of this TSL"
          },
          {
            "version": "1.0",
            "date": "18.jul.2013",
            "author": "David Rueda (dr@hsb-cad.com)",
            "changes": "Release"
          }
        ],
        "settingsFiles": [],
        "dependencies": [
          "GE_WALL_SECTION_BLOCKING"
        ]
      },
      "tokens_used": 5903,
      "error": null
    },
    "2": {
      "success": true,
      "data": {
        "usageEnvironment": {
          "primarySpace": "ModelSpace",
          "supportsPaperSpace": false,
          "isShopDrawingScript": false,
          "isMultipageScript": false,
          "detectionEvidence": "The script uses PrEntity to select ElementWall, operates on ElementWall methods (plOutlineWall, beam, zone), and manages Beam entities (erasing/filtering). It attaches instances to elements via dbCreate with Entity lists and uses assignToElementGroup. It does not use sd_ functions, Viewports, or Paper Space constants."
        },
        "prerequisites": {
          "requiredEntities": [
            "ElementWall",
            "Beam (Blocking)"
          ],
          "minimumBeams": 0,
          "requiredSpace": "Model Space - must be attached to a Wall Element.",
          "requiredSettings": [
            "GE_WALL_SECTION_BLOCKING"
          ]
        }
      },
      "tokens_used": 4538,
      "error": null
    },
    "3": {
      "success": true,
      "data": {
        "commandLine": {
          "insertionFlow": [
            {
              "step": 1,
              "function": "PrEntity",
              "promptOriginal": "\n|Select element(s)|",
              "condition": "_bOnInsert",
              "required": true
            }
          ],
          "keywordOptions": []
        },
        "dialogs": [],
        "opmProperties": [],
        "contextMenu": [],
        "settingsFiles": []
      },
      "tokens_used": 4036,
      "error": null
    },
    "4": {
      "success": true,
      "data": {
        "scriptPurpose": {
          "summary": "Replaces temporary blocking beams in a wall with a parametric blocking generator script, transferring material and elevation settings to the new instance.",
          "category": "Automation/Framing",
          "typicalUseCase": "Converting manually drawn or imported blocking lines into detailed, adjustable wall blocking components using the 'GE_WALL_SECTION_BLOCKING' sub-script."
        },
        "parameters": [
          {
            "name": "ssE (Element Selection)",
            "technicalDefault": "User Selection",
            "businessMeaning": "Target Wall Element(s) containing temporary blocking lines to be processed.",
            "validRange": "Valid ElementWall entities",
            "unit": "Entity",
            "affectsOutput": "Defines the scope (which wall) gets the new blocking generation logic attached."
          },
          {
            "name": "lstPropDouble[0] (Minimum Length)",
            "technicalDefault": "3",
            "businessMeaning": "The shortest allowed length for a blocking piece. Segments shorter than this are ignored.",
            "validRange": "0 - 1000 (typically 3-12 inches)",
            "unit": "Length (Inches)",
            "affectsOutput": "Filters out small blocking fragments, optimizing the bill of materials and manufacturing."
          },
          {
            "name": "dElevations (Transferred Array)",
            "technicalDefault": "Detected Z-height of temporary beams",
            "businessMeaning": "Vertical positions (heights) of the blocking rows relative to the wall origin.",
            "validRange": "0 to Wall Height",
            "unit": "Length (Inches)",
            "affectsOutput": "Determines the vertical placement of each blocking row in the final wall assembly."
          },
          {
            "name": "sMaterials (Transferred Array)",
            "technicalDefault": "Material of temporary beams",
            "businessMeaning": "The timber material grade/species to be used for the blocking.",
            "validRange": "Catalog Material Names",
            "unit": "String",
            "affectsOutput": "Assigns physical properties and shop drawing attributes to the generated beams."
          },
          {
            "name": "sOrientations (Transferred Array)",
            "technicalDefault": "Flat or Edge (Calculated)",
            "businessMeaning": "The rotation of the blocking: Flat (horizontal) or Edge (vertical).",
            "validRange": "Flat, Edge",
            "unit": "String/Enum",
            "affectsOutput": "Changes the cross-section orientation of the blocking, affecting structural fit."
          }
        ],
        "parameterDependencies": [
          {
            "trigger": "Detection of Temporary Blocking Beams",
            "effect": "Material, Orientation, and Elevation properties are read from the temporary beams and pushed to the Child TSL.",
            "cascade": [
              "sMaterials",
              "sOrientations",
              "dElevations"
            ]
          }
        ],
        "outputEntities": [
          {
            "type": "TslInst",
            "description": "Creates an instance of 'GE_WALL_SECTION_BLOCKING' attached to the wall.",
            "appliedTo": "Selected ElementWall"
          },
          {
            "type": "Beam",
            "description": "Generates new physical blocking beams based on parameters derived from temporary lines.",
            "appliedTo": "ElementWall"
          }
        ]
      },
      "tokens_used": 5018,
      "error": null
    },
    "5": {
      "success": true,
      "data": {},
      "tokens_used": 5660,
      "error": null
    },
    "6": {
      "success": true,
      "data": {
        "markdown": "# GE_WALL_RERUN_BLOCKING_LINES.mcr\n\n## Overview\nThis script converts temporary blocking beams within a wall into parametric blocking components. It automatically detects the elevation, material, and orientation of existing blocking lines and replaces them with a controlled blocking generator.\n\n## Usage Environment\n| Space | Supported | Notes |\n|-------|-----------|-------|\n| Model Space | Yes | Script must be attached to a Wall Element. |\n| Paper Space | No | Not supported. |\n| Shop Drawing | No | Not supported. |\n\n## Prerequisites\n- **Required Entities:** An ElementWall with existing temporary blocking beams.\n- **Minimum Beam Count:** 0 (Script runs safely on empty walls).\n- **Required Settings/Dependencies:** The script `GE_WALL_SECTION_BLOCKING.mcr` must be present in the TSL search path.\n\n## Usage Steps\n\n### Step 1: Launch Script\nCommand: `TSLINSERT` â†’ Select `GE_WALL_RERUN_BLOCKING_LINES.mcr` from the file browser.\n\n### Step 2: Select Wall Element\n```\nCommand Line: |Select element(s)|\nAction: Click on the Wall Element(s) that contain the temporary blocking lines you wish to convert.\n```\nOnce selected, the script will automatically scan the wall, read properties from the temporary beams, and regenerate the blocking using the `GE_WALL_SECTION_BLOCKING` logic.\n\n## Properties Panel Parameters\n\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| Minimum Length (Index 0) | Number | 3.0 | Filters out blocking segments shorter than this length (in inches). |\n\n*Note: This script primarily uses internal logic to detect beam properties; explicit OPM properties may be limited.*\n\n## Right-Click Menu Options\n\n| Menu Item | Description |\n|-----------|-------------|\n| *None* | No custom context menu options are added by this script. |\n\n## Settings Files & Dependencies\n- **Filename**: `GE_WALL_SECTION_BLOCKING.mcr`\n- **Location**: TSL Script Path\n- **Purpose**: This is the core generator script called by the main script to create the actual blocking geometry.\n\n## Tips\n- **Cleanup:** The script automatically erases previous instances of blocking TSLs inserted by this script, preventing duplicates.\n- **Empty Walls:** It is safe to run this script on a wall that has no blocking; it will simply finish without errors.\n- **Debugging:** Text feedback on the command line is minimized; ensure your temporary blocking beams are correctly assigned to the wall element before running.\n\n## FAQ\n- Q: What happens if my temporary blocking lines are very short?\n  - A: Segments shorter than the \"Minimum Length\" (default 3 inches) will be ignored and not generated in the final wall.\n- Q: Will this script delete my temporary lines?\n  - A: Yes, the script manages the element's children. It replaces temporary geometry with the parametric generator instance.\n- Q: I don't see any new blocking appear. Why?\n  - A: Ensure the temporary beams are actually part of the selected Wall Element's group/definition and not just loose geometry in the drawing."
      },
      "tokens_used": 4774,
      "error": null
    }
  }
}