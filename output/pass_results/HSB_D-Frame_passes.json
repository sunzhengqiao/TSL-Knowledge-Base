{
  "filename": "HSB_D-Frame.mcr",
  "status": "completed",
  "total_tokens": 59497,
  "processing_time": 230.39319777488708,
  "passes": {
    "1": {
      "success": true,
      "data": {
        "header": {
          "type": null,
          "numBeamsReq": null,
          "keywords": [],
          "majorVersion": 1,
          "minorVersion": 10,
          "dxaOut": null,
          "implInsert": null
        },
        "description": "",
        "versionHistory": [
          {
            "version": "1.00",
            "date": "29.10.2012",
            "author": "AS",
            "changes": "First revision"
          },
          {
            "version": "1.01",
            "date": "06.11.2012",
            "author": "AS",
            "changes": "Find intersecting beams on reference side"
          },
          {
            "version": "1.02",
            "date": "14.12.2012",
            "author": "AS",
            "changes": "Set readdirection to: -xw + 2 * _yw"
          },
          {
            "version": "1.03",
            "date": "10.01.2013",
            "author": "AS",
            "changes": "Add kingstud as frame beam. Dimstyle and linetype are now sorted in the opm pulldown"
          },
          {
            "version": "1.04",
            "date": "10.01.2013",
            "author": "AS",
            "changes": "Add support for angle"
          },
          {
            "version": "1.05",
            "date": "13.02.2013",
            "author": "AS",
            "changes": "Add ID's as frame beams"
          },
          {
            "version": "1.06",
            "date": "13.03.2015",
            "author": "AS",
            "changes": "Performance improvements. Do vector check instead of type check on angled plates. (FogBugzId 951)"
          },
          {
            "version": "1.07",
            "date": "24.07.2015",
            "author": "AS",
            "changes": "Add opening beams as frame beams"
          },
          {
            "version": "1.08",
            "date": "24.12.2015",
            "author": "AS",
            "changes": "Name and description exposed as settings."
          },
          {
            "version": "1.09",
            "date": "28.06.2018",
            "author": "DR",
            "changes": "Added use of HSB_G-FilterGenBeams.mcr"
          },
          {
            "version": "1.10",
            "date": "30.07.2018",
            "author": "AS",
            "changes": "Seperate filter properties used as an override on the definition. Add option to dimension only minimum frame."
          }
        ],
        "settingsFiles": [],
        "dependencies": [
          "HSB_G-FilterGenBeams.mcr"
        ]
      },
      "tokens_used": 8571,
      "error": null
    },
    "2": {
      "success": true,
      "data": {
        "usageEnvironment": {
          "primarySpace": "PaperSpace",
          "supportsPaperSpace": true,
          "isShopDrawingScript": false,
          "isMultipageScript": false,
          "detectionEvidence": "Script selects a Viewport on insertion (getViewport). Properties include 'Offset in paperspace units'. Logic uses 'vp.coordSys()' to get Model-to-Paper space transform. Dimensions are created and transformed using 'dim.transformBy(ms2ps)'."
        },
        "prerequisites": {
          "requiredEntities": [
            "Viewport",
            "Element",
            "GenBeam"
          ],
          "minimumBeams": 0,
          "requiredSpace": "A Layout (Paper Space) containing a Viewport that references a valid hsbCAD Element (e.g., Wall or Floor).",
          "requiredSettings": [
            "HSB_G-FilterGenBeams.mcr"
          ]
        }
      },
      "tokens_used": 8019,
      "error": null
    },
    "3": {
      "success": true,
      "data": {
        "raw_content": "```json\n{\n  \"commandLine\": {\n    \"insertionFlow\": [\n      {\n        \"step\": 1,\n        \"function\": \"getViewport\",\n        \"promptOriginal\": \"|Select a viewport|\",\n        \"condition\": \"_bOnInsert\",\n        \"required\": true\n      },\n      {\n        \"step\": 2,\n        \"function\": \"getPoint\",\n        \"promptOriginal\": \"|Select a position|\",\n        \"condition\": \"_bOnInsert\",\n        \"required\": true\n      }\n    ],\n    \"keywordOptions\": []\n  },\n  \"dialogs\": [],\n  \"opmProperties\": [\n    {\n      \"index\": 0,\n      \"variable\": \"sSeperator01\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Filter|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 24,\n      \"variable\": \"genBeamFilterDefinition\",\n      \"type\": \"PropString\",\n      \"displayName\": \"     |Filter definition for GenBeams|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"dropdown\",\n      \"options\": \"Dynamically loaded from catalog 'HSB_G-FilterGenBeams'\",\n      \"category\": null,\n      \"description\": \"|Filter definition for GenBeams.| (|Will be combined with custom filters|)|Use| HSB_G-FilterGenBeams.mcr |to define the filters|.\"\n    },\n    {\n      \"index\": 1,\n      \"variable\": \"sFilterBC\",\n      \"type\": \"PropString\",\n      \"displayName\": \"     |Filter beams with beamcode|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 2,\n      \"variable\": \"sFilterLabel\",\n      \"type\": \"PropString\",\n      \"displayName\": \"     |Filter beams and sheets with label|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 3,\n      \"variable\": \"sFilterMaterial\",\n      \"type\": \"PropString\",\n      \"displayName\": \"     |Filter beams and sheets with material|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 4,\n      \"variable\": \"sFilterHsbID\",\n      \"type\": \"PropString\",\n      \"displayName\": \"     |Filter beams and sheets with hsbID|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 5,\n      \"variable\": \"sSeperator02\",\n      \"type\": \"PropString\",\n      \"displayName\": \"|Frame|\",\n      \"defaultValue\": \"\",\n      \"inputType\": \"text\",\n      \"options\": [],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 6,\n      \"variable\": \"sDimObject\",\n      \"type\": \"PropString\",\n      \"displayName\": \"     |Dimension object|\",\n      \"defaultValue\": \"|Frame|\",\n      \"inputType\": \"dropdown\",\n      \"options\": [\n        \"|Frame|\",\n        \"|Angled segments|\",\n        \"|Angles|\"\n      ],\n      \"category\": null,\n      \"description\": null\n    },\n    {\n      \"index\": 7,\n     "
      },
      "tokens_used": 10705,
      "error": null
    },
    "4": {
      "success": true,
      "data": {
        "raw_content": "```json\n{\n  \"scriptPurpose\": {\n    \"summary\": \"Automates the dimensioning of the outer frame or angled segments of structural elements (walls/floors) directly in Paper Space layouts.\",\n    \"category\": \"ShopDrawing\",\n    \"typicalUseCase\": \"Creating overall dimensions for a wall or floor assembly on a production drawing, specifically filtering for structural elements and handling complex geometries like gables or angled corners.\"\n  },\n  \"parameters\": [\n    {\n      \"name\": \"genBeamFilterDefinition\",\n      \"technicalDefault\": \"\",\n      \"businessMeaning\": \"Selects a predefined filter set (from HSB_G-FilterGenBeams.mcr) to determine which structural beams are included in the frame calculation.\",\n      \"validRange\": \"Predefined catalog entries\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Determines which beams form the boundary of the dimension; changing this changes the size of the dimensioned frame.\"\n    },\n    {\n      \"name\": \"sFilterBC\",\n      \"technicalDefault\": \"\",\n      \"businessMeaning\": \"Filters the beams to be dimensioned based on their Beam Code (e.g., 'STUD', 'PLATE').\",\n      \"validRange\": \"Any valid Beam Code string\",\n      \"unit\": \"Text\",\n      \"affectsOutput\": \"Excludes non-matching beams from the frame outline calculation.\"\n    },\n    {\n      \"name\": \"sFilterLabel\",\n      \"technicalDefault\": \"\",\n      \"businessMeaning\": \"Filters beams based on their assigned label.\",\n      \"validRange\": \"Any valid Label string\",\n      \"unit\": \"Text\",\n      \"affectsOutput\": \"Excludes beams without the specified label from the frame.\"\n    },\n    {\n      \"name\": \"sFilterMaterial\",\n      \"technicalDefault\": \"\",\n      \"businessMeaning\": \"Filters beams based on their material name.\",\n      \"validRange\": \"Any valid Material string\",\n      \"unit\": \"Text\",\n      \"affectsOutput\": \"Excludes beams of different materials from the frame.\"\n    },\n    {\n      \"name\": \"sFilterHsbID\",\n      \"technicalDefault\": \"\",\n      \"businessMeaning\": \"Filters beams based on their specific hsbID.\",\n      \"validRange\": \"Any valid hsbID string\",\n      \"unit\": \"Text\",\n      \"affectsOutput\": \"Restricts the frame to specific elements identified by ID.\"\n    },\n    {\n      \"name\": \"sDimObject\",\n      \"technicalDefault\": \"Frame\",\n      \"businessMeaning\": \"Specifies the geometry to be dimensioned.\",\n      \"validRange\": \"Frame (Bounding Box), Angled segments (Non-orthogonal edges), Angles (Degree values)\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Switches between dimensioning the total width/height, dimensioning sloped edges individually, or annotating angles.\"\n    },\n    {\n      \"name\": \"sFrameSide\",\n      \"technicalDefault\": \"Inside\",\n      \"businessMeaning\": \"Determines whether the dimension line measures to the Inside face or Outside face of the structural beams.\",\n      \"validRange\": \"Inside, Outside\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Shifts the dimension line location to match the structural finish or exterior cladding line.\"\n    },\n    {\n      \"name\": \"useMinimumFrameProp\",\n      \"technicalDefault\": \"No\",\n      \"businessMeaning\": \"If Yes, calculates dimensions based only on vertical studs and beams directly connected to them, ignoring protrusions or cantilevers.\",\n      \"validRange\": \"Yes, No\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Reduces the dimensioned area to the 'core' structural frame, potentially excluding small overhangs.\"\n    },\n    {\n      \"name\": \"sDrawOutline\",\n      \"technicalDefault\": \"Yes\",\n      \"businessMeaning\": \"Toggles the visibility of the polyline representing the calculated frame boundary.\",\n      \"validRange\": \"Yes, No\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Shows or hides the guiding line for the dimensions.\"\n    },\n    {\n      \"name\": \"dRange\",\n      \"technicalDefault\": \"0\",\n      \"businessMeaning\": \"Limits the length of the dimension chain starting from the insertion point. Beams further than this distance are ignored.\",\n      \"validRange\": \"0 to Model Size (e.g., 20000)\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Prevents the dimension line from extending indefinitely across very long elements if only a partial section is needed.\"\n    },\n    {\n      \"name\": \"dAngSize\",\n      \"technicalDefault\": \"15\",\n      \"businessMeaning\": \"The radius/size of the arc drawn when annotating angles.\",\n      \"validRange\": \"5 to 50\",\n      \"unit\": \"mm\",\n      \"affectsOutput\": \"Controls the visual scale of angle dimensions.\"\n    },\n    {\n      \"name\": \"sPosition\",\n      \"technicalDefault\": \"Vertical left\",\n      \"businessMeaning\": \"The location of the dimension line relative to the frame.\",\n      \"validRange\": \"Vertical left/right, Horizontal bottom/top, Angled\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Moves the dimension line to the specified side of the element.\"\n    },\n    {\n      \"name\": \"sUsePSUnits\",\n      \"technicalDefault\": \"Yes\",\n      \"businessMeaning\": \"Interprets the 'Offset dimension line' value either as a Paper Space distance (fixed on drawing) or Model Space distance (scales with view).\",\n      \"validRange\": \"Yes, No\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Determines if the offset remains constant regardless of viewport scale.\"\n    },\n    {\n      \"name\": \"dDimOff\",\n      \"technicalDefault\": \"100\",\n      \"businessMeaning\": \"The distance between the frame outline and the dimension line.\",\n      \"validRange\": \"10 to 500\",\n      \"unit\": \"mm (or Paper Units)\",\n      \"affectsOutput\": \"Moves the dimension text and line closer to or further from the object.\"\n    },\n    {\n      \"name\": \"nNrOfDimPointsRequired\",\n      \"technicalDefault\": \"2\",\n      \"businessMeaning\": \"The minimum number of points required to generate a dimension segment for a specific part of the frame.\",\n      \"validRange\": \"2 to 10\",\n      \"unit\": \"Count\",\n      \"affectsOutput\": \"Filters out small segments or noise; small gaps might not be dimensioned if this is set high.\"\n    },\n    {\n      \"name\": \"sReference\",\n      \"technicalDefault\": \"No reference\",\n      \"businessMeaning\": \"Allows linking dimensions to a reference object (e.g., grid line or axis).\",\n      \"validRange\": \"No reference, Frame\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Adds extension lines or markers pointing to a reference coordinate system.\"\n    },\n    {\n      \"name\": \"sDisableTsl\",\n      \"technicalDefault\": \"No\",\n      \"businessMeaning\": \"Temporarily disables the script execution without deleting the instance.\",\n      \"validRange\": \"Yes, No\",\n      \"unit\": \"Selection\",\n      \"affectsOutput\": \"Hides all dimensions and outlines generated by this instance.\"\n    }\n  ],\n  \"parameterDependencies\": [\n    {\n      \"trigger\": \"sDimObject set to Angles\",\n      \"effect\": \"Activates Angle-specific styling parameters.\",\n      \"cascade\": [\n        \"dAngSize\",\n        \"nColorArc\"\n      ]\n    },\n    {\n      \"trigger\": \"sUsePSUnits changed\",\n      \"effect\": \"Scales the interpretation of dDimOff.\",\n      \"cascade\": [\n        \"dDimOff\"\n     "
      },
      "tokens_used": 11225,
      "error": null
    },
    "5": {
      "success": true,
      "data": {
        "workflowDiagram": [
          "Script Launch",
          "[Insertion Only] Show Configuration Dialog Once",
          "[Insertion Only] Select Viewport (Command Line Prompt)",
          "[Insertion Only] Select Position Point in Paper Space (Command Line Prompt)",
          "Store Viewport and Point in Instance Properties",
          "Check for valid Viewport (Erase instance if missing)",
          "Retrieve Element associated with Viewport",
          "Draw Instance Name and Description at Insertion Point",
          "[Context Menu] Handle 'Filter this element' Trigger (Store Element Handle in Map)",
          "[Context Menu] Handle 'Remove filter for this element' Trigger (Remove Element Handle from Map)",
          "[Context Menu] Handle 'Remove filter for all elements' Trigger (Clear Filter Map)",
          "[Debug/Setting] Draw Viewport Outline in Debug Layer (if enabled)",
          "[OPM/Setting] Check 'Disable the tsl' (Stop execution if Yes)",
          "[Global Map] Check if Active Filter exists for this Element",
          "[Filter Active] Stop execution and show 'Active filter' text (Color depends on specific vs global filter)",
          "Validate Element contains hsbCAD Data (Stop if invalid)",
          "Calculate Model Space to Paper Space Transformations",
          "Retrieve GenBeams from Element",
          "Apply Custom Filters (BeamCode, Label, Material, hsbID)",
          "Apply Catalog Filter (HSB_G-FilterGenBeams.mcr)",
          "Process Beams: Calculate bounding box and determine Frame Points (Left, Bottom, Right, Top)",
          "Check 'Use minimum frame' (Calculate based on vertical studs only if Yes)",
          "Generate Frame Outline Polyline",
          "Transform Outline and Points to Paper Space",
          "Determine Dimension Object Type (Frame / Angled Segments / Angles)",
          "Iterate Frame Outline Segments",
          "[Conditional] Segment Processing based on Dimension Object and Position",
          "Draw Dimensions in Paper Space",
          "[Conditional] Draw Outline Polyline (if 'Draw outline' is Yes)"
        ],
        "conditionalBranches": [
          {
            "condition": "Script Mode: Insertion vs Recalculation",
            "path1": {
              "name": "Insertion Path",
              "steps": [
                "Show Configuration Dialog",
                "Prompt for Viewport",
                "Prompt for Position Point",
                "Save and Exit"
              ]
            },
            "path2": {
              "name": "Recalculation Path",
              "steps": [
                "Read existing Viewport/Point",
                "Execute Logic to generate dimensions",
                "Update Graphics"
              ]
            }
          },
          {
            "condition": "Disable TSL Property",
            "path1": {
              "name": "Disabled",
              "steps": [
                "Draw Instance Name",
                "Draw 'Disabled' Text",
                "Exit"
              ]
            },
            "path2": {
              "name": "Enabled",
              "steps": [
                "Proceed to Element Validation",
                "Proceed to Filter Checks"
              ]
            }
          },
          {
            "condition": "Active Filter Status (Global Map)",
            "path1": {
              "name": "Specific Filter Active (This Element)",
              "steps": [
                "Highlight Name in Specific Color",
                "Draw 'Active filter' Text",
                "Exit (No Dimensioning)"
              ]
            },
            "path2": {
              "name": "Global Filter Active (Other Elements)",
              "steps": [
                "Highlight Name in Global Color",
                "Draw 'Active filter' Text",
                "Exit (No Dimensioning)"
              ]
            },
            "path3": {
              "name": "No Filter",
              "steps": [
                "Proceed to Dimensioning Logic"
              ]
            }
          },
          {
            "condition": "Dimension Object Property",
            "path1": {
              "name": "Frame (Bounding Box)",
              "steps": [
                "Collect points for Left/Right/Top/Bottom based on Position Setting",
                "Create single dimension chain",
                "Apply Range limit (if set)"
              ]
            },
            "path2": {
              "name": "Angled Segments",
              "steps": [
                "Identify non-orthogonal edges",
                "Create individual dimensions for each angled segment",
                "Filter based on Position Setting (e.g., only left side)"
              ]
            },
            "path3": {
              "name": "Angles",
              "steps": [
                "Calculate angle at corners",
                "Draw Arc and Text"
              ]
            }
          },
          {
            "condition": "Use Minimum Frame Property",
            "path1": {
              "name": "Yes (Minimum)",
              "steps": [
                "Identify vertical beams (studs)",
                "Find beams connected to verticals",
                "Calculate frame based on this subset"
              ]
            },
            "path2": {
              "name": "No (Entire)",
              "steps": [
                "Include all filtered beams",
                "Calculate bounding box of full set"
              ]
            }
          }
        ],
        "validationRules": [
          {
            "check": "Viewport Assignment",
            "errorMessage": "Script deletes self silently (eraseInstance called).",
            "recovery": "User must re-insert the script and select a valid viewport."
          },
          {
            "check": "Element Validity (hsbCAD Data)",
            "errorMessage": "No error message shown; script simply returns.",
            "recovery": "User must ensure the selected Viewport references a valid hsbCAD Element (Wall/Floor) with generated data."
          },
          {
            "check": "Minimum Points Required",
            "errorMessage": "No dimensions drawn if insufficient points are found.",
            "recovery": "Adjust 'Minimum points required' property or check filter settings to include more beams."
          }
        ],
        "postInsertionActions": [
          {
            "action": "Change Dimension Position",
            "how": "OPM Property 'Position' (Vertical left/right, Horizontal top/bottom, Angled)",
            "effect": "Moves the dimension line to the specified side of the frame."
          },
          {
            "action": "Filter Elements",
            "how": "Right-click Context Menu -> 'Filter this element'",
            "effect": "Stops dimensioning for this specific element and highlights it in a specific color. Stores handle in global map."
          },
          {
            "action": "Remove Specific Filter",
            "how": "Right-click Context Menu -> 'Remove filter for this element'",
            "effect": "Re-enables dimensioning for this element if it was previously filtered."
          },
          {
            "action": "Remove All Filters",
            "how": "Right-click Context Menu -> 'Remove filter for all elements'",
            "effect": "Clears all stored filters, re-enabling dimensioning for all filtered instances."
          },
          {
            "action": "Adjust Dimensions",
            "how": "OPM Properties (Offset, Range, Style, Filter criteria)",
            "effect": "Immediate redraw of dimensions based on new parameters."
          },
          {
            "action": "Move Script Instance",
            "how": "Grip Edit or Move Command on the insertion point text",
            "effect": "Relocates the dimension origin and the instance name label."
          }
        ]
      },
      "tokens_used": 12082,
      "error": null
    },
    "6": {
      "success": true,
      "data": {
        "markdown": "# HSB_D-Frame.mcr\n\n## Overview\nAutomates the dimensioning of the outer frame or angled segments of structural elements (walls/floors) directly in Paper Space layouts. It creates clean, scale-independent production drawings by filtering specific structural members and calculating precise boundary dimensions.\n\n## Usage Environment\n| Space | Supported | Notes |\n|-------|-----------|-------|\n| Model Space | No | The script reads geometry from Model Space but operates in Paper Space. |\n| Paper Space | Yes | You must select a Viewport that displays an hsbCAD Element. |\n| Shop Drawing | Yes | Intended for creating detailed production drawings. |\n\n## Prerequisites\n- **Required Entities:** A Layout (Paper Space) containing a Viewport.\n- **Element Data:** The selected Viewport must reference a valid hsbCAD Element (e.g., a Wall or Floor) with generated beams.\n- **Required Settings:** The script relies on `HSB_G-FilterGenBeams.mcr` to provide filter definitions.\n\n## Usage Steps\n\n### Step 1: Launch Script\nCommand: `TSLINSERT` â†’ Select `HSB_D-Frame.mcr`\n\n### Step 2: Select Viewport\n```\nCommand Line: Select a viewport\nAction: Click on the viewport in Paper Space that contains the element you wish to dimension.\n```\n\n### Step 3: Select Position\n```\nCommand Line: Select a position\nAction: Click in Paper Space to set the origin point for the dimension line and label.\n```\n\n## Properties Panel Parameters\n\n### Filter Settings\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| **Filter definition for GenBeams** | dropdown | *Empty* | Select a predefined filter set (from the catalog) to determine which beams are included. |\n| **Filter beams with beamcode** | text | *Empty* | Enter a Beam Code (e.g., \"STUD\", \"PLATE\") to include only those beams. |\n| **Filter beams and sheets with label** | text | *Empty* | Enter a label to filter elements by their assigned label. |\n| **Filter beams and sheets with material** | text | *Empty* | Enter a material name to include only beams of that material. |\n| **Filter beams and sheets with hsbID** | text | *Empty* | Enter a specific hsbID to dimension only that unique element. |\n\n### Frame Settings\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| **Dimension object** | dropdown | Frame | Choose what to dimension: `Frame` (overall size), `Angled segments` (sloped edges), or `Angles` (degree values). |\n| **Frame side** | dropdown | Inside | Measure to the `Inside` face or `Outside` face of the beams. |\n| **Use minimum frame** | dropdown | No | If **Yes**, calculates dimensions based only on vertical studs and connected beams, ignoring overhangs. |\n| **Draw outline** | dropdown | Yes | Toggles the visibility of the polyline representing the frame boundary. |\n\n### Position & Style\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| **Range** | number | 0 | Limits the length of the dimension chain from the insertion point (0 = unlimited). |\n| **Ang size** | number | 15 | The size/radius of the arc drawn for angle dimensions. |\n| **Position** | dropdown | *Varies* | Sets the dimension location relative to the frame (e.g., Vertical left, Horizontal bottom). |\n| **Offset dimension line** | number | 100 | Distance between the frame outline and the dimension line. |\n| **Use PS units for offset** | dropdown | Yes | If **Yes**, the offset is fixed in Paper Space. If **No**, it scales with the Viewport. |\n| **Nr of dim points required** | number | 2 | Minimum number of points needed to generate a dimension segment. |\n| **Reference** | dropdown | No reference | Adds extension lines pointing to a reference coordinate system (e.g., Grid). |\n| **Disable the tsl** | dropdown | No | Temporarily turns off the script without deleting the instance. |\n\n## Right-Click Menu Options\n\n| Menu Item | Description |\n|-----------|-------------|\n| **Filter this element** | Stops dimensioning for this specific element and highlights it to indicate it is filtered out. |\n| **Remove filter for this element** | Re-enables dimensioning for this specific element if it was previously filtered. |\n| **Remove filter for all elements** | Clears all stored filters, restoring dimensioning for all instances using this script. |\n\n## Settings Files\n- **Filename**: `HSB_G-FilterGenBeams.mcr`\n- **Purpose**: Provides the catalog of predefined filter definitions available in the \"Filter definition for GenBeams\" dropdown. This allows you to save and reuse complex beam selection criteria.\n\n## Tips\n- **Consistent Offsets:** Keep \"Use PS units for offset\" set to **Yes** to ensure dimension lines stay at a fixed distance from the drawing, regardless of the viewport scale.\n- **Partial Dimensions:** Use the \"Range\" property if you only want to dimension a specific section of a long wall without creating a new script instance.\n- **Gable Walls:** Set \"Dimension object\" to `Angled segments` when dimensioning gable walls to get the individual lengths of the sloped top plates instead of the overall bounding box.\n- **Moving the Label:** You can click and drag the text label (created at the insertion point) to move the dimension origin and label location.\n\n## FAQ\n- **Q: Why are my dimensions not appearing?**\n- **A:** Check if \"Disable the tsl\" is set to **No**. Ensure your Viewport contains valid hsbCAD data and that your Filter settings are not too restrictive (try clearing the filter strings to test).\n\n- **Q: How do I dimension only the structural studs and ignore the cladding/sheeting?**\n- **A:** Use the \"Filter beams with beamcode\" field to enter the code for your studs (e.g., \"STUD\"), or use a Filter Definition that excludes sheeting materials.\n\n- **Q: The dimension line moves when I change the viewport scale.**\n- **A:** Change the \"Use PS units for offset\" property to **Yes**. This locks the offset distance to Paper Space units rather than Model Space units."
      },
      "tokens_used": 8895,
      "error": null
    }
  }
}